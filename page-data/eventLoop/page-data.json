{"componentChunkName":"component---src-templates-post-tsx","path":"/eventLoop/","result":{"data":{"markdownRemark":{"html":"<p>setTimeout을 통해서 비동기 처리를 하는데 호출 스택이 어떻게 되는지 궁금하다 이벤트 루프를 알게 됐고\n맨아래 참고 두번째 유브를 통해서 개념을 알고 첫번째 제로초 사이트에 알기 쉽게 도식화 된 내용을 참고하여 아래 3개를 직접 그리며 개념을 정리했다.</p>\n<h1 id=\"이벤트-루프-설명-시-주요-용어\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EC%84%A4%EB%AA%85-%EC%8B%9C-%EC%A3%BC%EC%9A%94-%EC%9A%A9%EC%96%B4\" aria-label=\"이벤트 루프 설명 시 주요 용어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 루프 설명 시 주요 용어</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- 호출스택\n- 백그라운드\n- 테스크큐\n- 이벤트 루프</code></pre></div>\n<h1 id=\"이벤트-루프-설명-예시\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EC%84%A4%EB%AA%85-%EC%98%88%EC%8B%9C\" aria-label=\"이벤트 루프 설명 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 루프 설명 예시</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Hi'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'CB'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3000</span><span class=\"token punctuation\">)</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'bye'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>위 코드 결과는 Hi, bye, CB 순서로 로그가 남게 된다. 아래 설명을 참고</li>\n<li>만약 setTimeout이 0초로 설정하게 된다면 로그는 어떻게 출력이 될지 아래 설명을 보면서 생각해보자 </li>\n</ul>\n<h2 id=\"이벤트-루프-예시-도식화-설명\" style=\"position:relative;\"><a href=\"#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EC%98%88%EC%8B%9C-%EB%8F%84%EC%8B%9D%ED%99%94-%EC%84%A4%EB%AA%85\" aria-label=\"이벤트 루프 예시 도식화 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>이벤트 루프 예시 도식화/ 설명</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ae66535586de8d67b72ad74d0153aeca/99847/eventLoop1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.48952221290863%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAc5xZIg//8QAFRABAQAAAAAAAAAAAAAAAAAAASD/2gAIAQEAAQUCK//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAIDAQAAAAAAAAAAAAAAAAABEBExIf/aAAgBAQABPyFLRl8HsMen/9oADAMBAAIAAwAAABCgz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABwQAQACAwADAAAAAAAAAAAAAAEAESExQWFxgf/aAAgBAQABPxC1ymeEWwLZqO9K8QU+yjwPRN0//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"eventLoop1\"\n        title=\"eventLoop1\"\n        src=\"/static/ae66535586de8d67b72ad74d0153aeca/88218/eventLoop1.jpg\"\n        srcset=\"/static/ae66535586de8d67b72ad74d0153aeca/7237a/eventLoop1.jpg 148w,\n/static/ae66535586de8d67b72ad74d0153aeca/0cfdf/eventLoop1.jpg 295w,\n/static/ae66535586de8d67b72ad74d0153aeca/88218/eventLoop1.jpg 590w,\n/static/ae66535586de8d67b72ad74d0153aeca/77d57/eventLoop1.jpg 885w,\n/static/ae66535586de8d67b72ad74d0153aeca/5a917/eventLoop1.jpg 1180w,\n/static/ae66535586de8d67b72ad74d0153aeca/99847/eventLoop1.jpg 2386w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>상태 </p>\n<ul>\n<li>console.log('Hi')가 수행되어 콘솔에 찍히고 <code class=\"language-text\">호출스택</code>에서 빠진 상태</li>\n</ul>\n</li>\n<li>\n<p>설명</p>\n<ol>\n<li>setTimeout이 수행되어 setTimeout callback function이 <code class=\"language-text\">백그라운드</code>로 이동된 상태</li>\n<li>setTimeout callback function이 <code class=\"language-text\">백그라운드</code>로 이동</li>\n<li>3초후에 setTimeout callbakc function이 수행 되도록 설정 되어 있기 때문에 3초 이후 <code class=\"language-text\">태스크 큐</code>로 이동</li>\n</ol>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82cd34f31fdea1776ce220c332435caf/99847/eventLoop2.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.48952221290863%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeayyAf/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAAAARAhETFB/9oACAEBAAE/IeVDMjsez//aAAwDAQACAAMAAAAQY8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAADAQADAQAAAAAAAAAAAAAAARExIUFxgf/aAAgBAQABPxBXs0d5m018KIbEvEbH/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"eventLoop2\"\n        title=\"eventLoop2\"\n        src=\"/static/82cd34f31fdea1776ce220c332435caf/88218/eventLoop2.jpg\"\n        srcset=\"/static/82cd34f31fdea1776ce220c332435caf/7237a/eventLoop2.jpg 148w,\n/static/82cd34f31fdea1776ce220c332435caf/0cfdf/eventLoop2.jpg 295w,\n/static/82cd34f31fdea1776ce220c332435caf/88218/eventLoop2.jpg 590w,\n/static/82cd34f31fdea1776ce220c332435caf/77d57/eventLoop2.jpg 885w,\n/static/82cd34f31fdea1776ce220c332435caf/5a917/eventLoop2.jpg 1180w,\n/static/82cd34f31fdea1776ce220c332435caf/99847/eventLoop2.jpg 2386w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>설명</p>\n<ol start=\"4\">\n<li><code class=\"language-text\">호출 스택</code>실행이 끝나면 </li>\n<li><code class=\"language-text\">이벤트루프</code>는 태스크 큐의 callback function을 <code class=\"language-text\">호출 스택</code>으로 올린다.</li>\n</ol>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c31788e75ea9324a45de2e1694ea5afa/99847/eventLoop3.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.48952221290863%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAedFMg//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAEBAAMBAAAAAAAAAAAAAAABABARITH/2gAIAQEAAT8hB1yZy+3/2gAMAwEAAgADAAAAEFPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QZ//EABsQAAMAAgMAAAAAAAAAAAAAAAABESExQXGB/9oACAEBAAE/EGO4RptLdzDbwsWOSI3H/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"eventLoop3\"\n        title=\"eventLoop3\"\n        src=\"/static/c31788e75ea9324a45de2e1694ea5afa/88218/eventLoop3.jpg\"\n        srcset=\"/static/c31788e75ea9324a45de2e1694ea5afa/7237a/eventLoop3.jpg 148w,\n/static/c31788e75ea9324a45de2e1694ea5afa/0cfdf/eventLoop3.jpg 295w,\n/static/c31788e75ea9324a45de2e1694ea5afa/88218/eventLoop3.jpg 590w,\n/static/c31788e75ea9324a45de2e1694ea5afa/77d57/eventLoop3.jpg 885w,\n/static/c31788e75ea9324a45de2e1694ea5afa/5a917/eventLoop3.jpg 1180w,\n/static/c31788e75ea9324a45de2e1694ea5afa/99847/eventLoop3.jpg 2386w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>설명  </p>\n<ol start=\"6\">\n<li>run(setTimeout callback function)이 <code class=\"language-text\">호출 스택</code>에서 실행 되고 비워지게 된다.  </li>\n<li><code class=\"language-text\">이벤트루프</code>는 <code class=\"language-text\">태스크 큐</code>에 callback function이 들어올 때까지 대기</li>\n</ol>\n</li>\n</ul>\n<h1 id=\"추가-설명\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80-%EC%84%A4%EB%AA%85\" aria-label=\"추가 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가 설명</h1>\n<ul>\n<li>setTimeout 0초는 4ms 지연 시간을 갖고 있어 hi, bye, CB 순서대로 로그가 남게 된다.</li>\n<li>\n<p>백그라운드에서 3초를 설정했음에도 3초 후에 실행되지 않는경우 </p>\n<ul>\n<li>호출 스택에서 많은 일을 하게 되면 이벤트루프가 태스크 큐에 쌓이 콜백함수들을 호출스택으로 끌어 올리지 못하기 때문</li>\n</ul>\n</li>\n<li>\n<p>백그라운드 사용하는 작업</p>\n<ul>\n<li>setTimeout, setInterval</li>\n<li>ajax 요청</li>\n<li>event Listener<br>\n: 참고  <a href=\"http://latentflip.com/loupe/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://latentflip.com/loupe/</a></li>\n<li>File Reader</li>\n<li>Javascript 기본제공 메소드 중 콜백 함수를 사용하는 메소드는 백그라운드를 사용하는 경우가 많다.</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h1>\n<ul>\n<li>\n<ol>\n<li>제로초</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>JSConf</li>\n<li><a href=\"https://www.youtube.com/watch?v=8aGhZQkoFbQ&#x26;feature=emb_title\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://www.youtube.com/watch?v=8aGhZQkoFbQ&#x26;feature=emb_title</a></li>\n</ol>\n</li>\n</ul>","excerpt":"setTimeout을 통해서 비동기 처리를 하는데 호출 스택이 어떻게 되는지 궁금하다 이벤트 루프를 알게 됐고 \n맨아래 참고 두번째 유브를 통해서 개념을 알고 첫번째 제로초 사이트에 알기 쉽게 도식화 된 내용을 참고하여 아래…","tableOfContents":"<ul>\n<li><a href=\"/eventLoop/#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EC%84%A4%EB%AA%85-%EC%8B%9C-%EC%A3%BC%EC%9A%94-%EC%9A%A9%EC%96%B4\">이벤트 루프 설명 시 주요 용어</a></li>\n<li>\n<p><a href=\"/eventLoop/#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EC%84%A4%EB%AA%85-%EC%98%88%EC%8B%9C\">이벤트 루프 설명 예시</a></p>\n<ul>\n<li><a href=\"/eventLoop/#%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EC%98%88%EC%8B%9C-%EB%8F%84%EC%8B%9D%ED%99%94-%EC%84%A4%EB%AA%85\">이벤트 루프 예시 도식화/ 설명</a></li>\n</ul>\n</li>\n<li><a href=\"/eventLoop/#%EC%B6%94%EA%B0%80-%EC%84%A4%EB%AA%85\">추가 설명</a></li>\n<li><a href=\"/eventLoop/#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>","fields":{"slug":"/eventLoop/"},"frontmatter":{"title":"eventLoop","date":"Feb 16, 2020","tags":["Javascript Core"],"keywords":["eventLoop"]}}},"pageContext":{"slug":"/eventLoop/","series":[]}}}