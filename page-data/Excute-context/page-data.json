{"componentChunkName":"component---src-templates-post-tsx","path":"/Excute-context/","result":{"data":{"markdownRemark":{"html":"<p>개발을 하다보면 this의 범위가 함수, function, bind, call, apply별로 달라지는 걸볼 수 있는데 왜 이런지에 대해서 다뤄보려고 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">\t<span class=\"token number\">1</span> 실행 컨텍스트란<span class=\"token operator\">?</span> \n\t<span class=\"token number\">2</span> VariableEnvironment\n\t<span class=\"token number\">3</span> LexicalEnvironment\n\t\t<span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> environmentRecord와 hoisting\n            호이스팅 규칙  \n            함수 선언문과 함수 표현식\n      \n\t\t<span class=\"token number\">3</span><span class=\"token operator\">-</span><span class=\"token number\">2</span> scope<span class=\"token punctuation\">,</span> scope chain<span class=\"token punctuation\">,</span> outerEnvironmentReference\n            스코프 체인\n            전역변수와 지역변수\n\n\t<span class=\"token number\">4</span> <span class=\"token keyword\">this</span></code></pre></div>\n<h1 id=\"1-실행-컨텍스트란\" style=\"position:relative;\"><a href=\"#1-%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%9E%80\" aria-label=\"1 실행 컨텍스트란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1 실행 컨텍스트란?</h1>\n<blockquote>\n<ul>\n<li>실행컨텍스트(execution context)는 실행할 코드에 제공할 환경 정보들을 모아놓은 객체  </li>\n<li>자바스크립트의 동적 언어로서의 성격을 가장 잘 파악할 수 있는 개념  </li>\n<li>어떤 실행 컨텍스트가 활성화되는 시점에 선언된 변수를 위로 끌어 올리고(=호이스팅), 외부환경정보를 구성, this값을 설정  하는 동작 수행<br>\n-> 이로인해 다른언어에서는 발견할 수 없는 특이한 현상들이 발생</li>\n</ul>\n</blockquote>\n<ul>\n<li>\n<p>코드 실행시 실행 컨텍스트</p>\n<ul>\n<li>'동일한 환경'에 있느 코드들을 실행할 때 필요한 환경 정보들을 모아 컨텍스트를 구성하고 </li>\n<li>이를 콜 스택에 쌓아올렸다가</li>\n<li>가장 위에 쌓여있는 컨텍스트와 관련 잇는 코드들을 실행하는 식으로 전체 코드의 환경과 순서를 보장</li>\n</ul>\n</li>\n<li>\n<p>'동일한 환경'(하나의 실행 컨텍스트)을 구성할 수 있는 방법</p>\n<ul>\n<li>전역공간, evan()함수, 함수 등이 있음</li>\n<li>eval을 제외하면 우리가 흔히 실행 컨텍스트를 구성하는 방법은 함수를 실행하는 것</li>\n</ul>\n</li>\n<li>\n<p>javascript engine 역할</p>\n<ul>\n<li>어떤 실행 컨텍스트가 활성화될 때 자바스크립트 엔진은 해당 컨텍스트에 관련된 코드들을 실행하는 데 '필요한 환경정보들'을 수집해서 실행 컨텍스트 객체에 저장</li>\n<li>이 객체는 javascript engine이 활용할 목적으로 생성(개발자가 코드를 통해 확인할 수 x)  </li>\n<li>\n<p>담기는 정보 세가지<br>\n: 목차 2, 3, 4에서 각각 더 자세하게 설명하도록 한다. </p>\n<div class=\"gatsby-highlight\" data-language=\"txt\"><pre class=\"language-txt\"><code class=\"language-txt\">VariableEnvironment : 현재 컨텍스트 내의 식별자들에 대한 정보 + 외부 환경 정보. \n                    : 선언 시점의 LexicalEnvironment의 스냅샷 \n                    : 변경 사항은 반영되지 않음\nLexicalEnvironment  : 처음에는 VariableEnvironment와 같지만 변경사항이 실시간으로 반영\nThisBinding         : this 식별자가 바라봐야 할 객체</code></pre></div>\n</li>\n</ul>\n</li>\n<li>활성화된 실행 컨텍스트의 수집정보</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  * inner \n      Variableenvironment : environmentRecord(snapshot)/ outerEnvironmentReferenece(snapshot)\n      LexicalEnvironment  : environmentRecord/ outerenvironmentReferenece\n      ThisBindding\n  * outer\n  * 전역 컨텍스트</code></pre></div>\n<h1 id=\"2-variableenvironment\" style=\"position:relative;\"><a href=\"#2-variableenvironment\" aria-label=\"2 variableenvironment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2 VariableEnvironment</h1>\n<ul>\n<li>LexicalEnvironment와 같지만 최초 실행 시의 스탭 샷을 유지한다는점이 다름</li>\n<li>실행 컨텍스트를 생성할 때 VariableEnvironment에 정보를 먼저 담은 다음,<br>\n이를 그대로 복사해서 Lexical environment를 만들어  LexicalEnvironment를 주로 활용하게 된다.</li>\n<li>\n<p>Variableenvironment, LexicalEnvironment의 내부는 <strong>environmentRecord와 outerEnvironmentReference</strong>로 구성</p>\n<ul>\n<li>초기화 과정 중에는 사실상 완전히 동일, 이후 코드 진행에 따라 서로 달라짐</li>\n<li>자세한 내용은 LexicalEnvironment를 통해 설명</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"3-lexicalenvironment\" style=\"position:relative;\"><a href=\"#3-lexicalenvironment\" aria-label=\"3 lexicalenvironment permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3 LexicalEnvironment</h1>\n<ul>\n<li>컨텍스트를 구성하는 환경 정보들을 사전에서 접하는 느낌으로 모아 놓은 것 </li>\n</ul>\n<h2 id=\"3-1-environmentrecord와-hoisting\" style=\"position:relative;\"><a href=\"#3-1-environmentrecord%EC%99%80-hoisting\" aria-label=\"3 1 environmentrecord와 hoisting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-1 environmentRecord와 hoisting</h2>\n<ul>\n<li>\n<p>js engine은 컨텍스트 내부 전체를 처음부터 쭉 훑어나가며 순서대로 수집 = \"호이스팅 개념\"<br>\n(= 식별자들을 최상단으로 끌어올려놓은 다음 실제코드를 실행-실제로 끌어 올리는 것이 아님, 편의상 끌어올린것으로 간주-)</p>\n<ul>\n<li>실행 컨텍스트가 관여할 코드들은 실행되기 전의 상태</li>\n<li>코드가 실행되기 전임에도 불구하고 js engine은 이미 해당 환경에 속한 코드의 변수명들으 모두 알고 있게 된다.\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"호이스팅-규칙\" style=\"position:relative;\"><a href=\"#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EA%B7%9C%EC%B9%99\" aria-label=\"호이스팅 규칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>호이스팅 규칙</h3>\n<ul>\n<li>environmentRecord에는 매개변수의 이름, 함수선언, 변수명 등이 담긴다</li>\n<li>\n<p>예시</p>\n<ul>\n<li>함수 선언문으로 선언한 함수는 hoisting 대상</li>\n<li>함수 표현식은 hosisting 대상 x</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//ƒ b() {}</span>\n  <span class=\"token keyword\">var</span> b<span class=\"token punctuation\">;</span> \n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//ƒ b() {}</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">//함수 선언문</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//ƒ b() {}</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>   <span class=\"token comment\">//undefined</span>\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">c</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<h3 id=\"함수-선언문과-함수-표현식\" style=\"position:relative;\"><a href=\"#%ED%95%A8%EC%88%98-%EC%84%A0%EC%96%B8%EB%AC%B8%EA%B3%BC-%ED%95%A8%EC%88%98-%ED%91%9C%ED%98%84%EC%8B%9D\" aria-label=\"함수 선언문과 함수 표현식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>함수 선언문과 함수 표현식</h3>\n<ul>\n<li>\n<p>함수를 정의하는 세가지 방식</p>\n<ul>\n<li>함수 선언문: 반드시 함수명이 정의 돼 있어야 함/ hoisiting이 됨</li>\n<li>함수 표현식: 함수명이 없어도 됨           / hoisiting이 안 됨</li>\n<li>기명 함수 표현식: 함수명을 정의한 함수 표현식</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">//함수 선언문</span>\n<span class=\"token function\">a</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//상대적으로 긴 코드 속에서 함수 표현식이 안전한다.</span>\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">b</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">//(익명) 함수 표현식</span>\n<span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">c</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">d</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span> <span class=\"token comment\">// 기명 함수 표현식. 변수명: c, 함수명 d</span>\n<span class=\"token function\">c</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 실행</span>\n<span class=\"token function\">d</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// error</span></code></pre></div>\n<h2 id=\"3-2-scope-scope-chain-outerenvironmentreference\" style=\"position:relative;\"><a href=\"#3-2-scope-scope-chain-outerenvironmentreference\" aria-label=\"3 2 scope scope chain outerenvironmentreference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-2 scope, scope chain, outerEnvironmentReference</h2>\n<ul>\n<li>\n<p>scope: 식별자에 대한 유표범위</p>\n<ul>\n<li>ES5까지의 자바스크립트는 특이하게도 전역 공간을 제외하면 오직 함수에 의해서만 스코프가 생성</li>\n</ul>\n</li>\n<li>scope chain: 이런 '식별자의 유효범위'를 안에서부터 바깥으로 차례로 검색해나가는 것</li>\n<li>outerEnvironmentReference: 스코프체인을 가능하게 하는 것이 바로 Lexicalenvironment의 두번째 수집자료인 outerEnvironmentReferenece</li>\n</ul>\n<h3 id=\"scope-chain\" style=\"position:relative;\"><a href=\"#scope-chain\" aria-label=\"scope chain permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scope chain</h3>\n<ul>\n<li>\n<p>outerEnvironmentReferenece는 현재 호출된 함수가 선언될 당시의 LexicalEnvironment를 참조</p>\n<ul>\n<li>아래 예시1 scopechain 도식화 참고</li>\n</ul>\n</li>\n<li>\n<p>과거 시점인 '선언될 당시'는 행위가 실제로 일어 날 수 있는 시점이란?  </p>\n<ul>\n<li>콜 스택 상에서 어떤 실행 컨텍스트가 활성화된 상태일 때뿐</li>\n<li>모든 코드는 실행 컨텍스트가 활성화 상태일 때 실행되기 때문</li>\n</ul>\n</li>\n<li>\n<p>scope chain 예1</p>\n<ol>\n<li>A함수 내부에 B함수 선언, B함수 내에 C함수 선언</li>\n<li>함수 C의 outerEnvironmentReferenece는 함수 B의 LexicalEnvironment를 참조 </li>\n<li>함수 B의 LexicalEnvironment에 있는 outerEnvironmentReferenece는 <strong><em>다시 함수 B가 선언되던 때</em></strong> A함수의 LexicalEnvironment를 참조 </li>\n<li>이처럼 outerEnvironmentReferenece는 연결리스트 형태를 띤다.</li>\n<li>'선언 시점의 LexicalEnvironment'를 계속 찾아 올라가면 마지막엔 전역 컨텍스트의 LexicalEnvironment가 있을 것'  </li>\n</ol>\n</li>\n<li>\n<p>위 예시로본 특징 </p>\n<ul>\n<li>예시 3번에서 본것 처럼 각 outerEnvironmentReferenece는 오직 자신이 선언된 시점의 LexicalEnvironment만 침조하고 있으므로 가장 가까운 요소부터 차례대로만 접근할 수 있고 다른 순서로 접근하는 것은 불가능</li>\n<li>이런 구조적 특성 덕분에 여러 스코프에서 동일한 식별자를 선언한 경우에는 <strong>무조건 스코프 체인 상에서 가장 먼저 발견된 식별자에만 접근 가능</strong> </li>\n</ul>\n</li>\n<li>\n<p>scope chain 예1 코드</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/*01*/</span> <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*02*/</span> <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">outer</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/*03*/</span>   <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">inner</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/*04*/</span>     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*05*/</span>     <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*06*/</span>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*07*/</span>   <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*08*/</span>   console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*09*/</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*10*/</span> <span class=\"token function\">ouer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/*11*/</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>scope chaing 예1 코드 도식화</p>\n<ul>\n<li>\n<p>그림을 보면서 라인별로 어떤 동작을 하는지 생각해보자</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">LE: Lexical Envinronment\ne: environmentRecord\no: outerEnvironmentReference</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8884403c21f0b707511224d1af1e9927/72f4c/context.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 110.43890865954921%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHuGY2ipQoP/8QAGBABAAMBAAAAAAAAAAAAAAAAAAERIEH/2gAIAQEAAQUC4jFoU//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABYQAAMAAAAAAAAAAAAAAAAAABARIP/aAAgBAQAGPwKkf//EAB0QAAMAAQUBAAAAAAAAAAAAAAABESEQMUFhgbH/2gAIAQEAAT8hnYeJfpzFfBprdoTlHNgyWJo//9oADAMBAAIAAwAAABCbwAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAeEAEBAAICAgMAAAAAAAAAAAABEQBRITFhcYGRwf/aAAgBAQABPxAuhpd+cFCld4XA07uC6P285GKFZy5xD3fwyzuHNu8LQD3lqqnxn//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"context\"\n        title=\"context\"\n        src=\"/static/8884403c21f0b707511224d1af1e9927/88218/context.jpg\"\n        srcset=\"/static/8884403c21f0b707511224d1af1e9927/7237a/context.jpg 148w,\n/static/8884403c21f0b707511224d1af1e9927/0cfdf/context.jpg 295w,\n/static/8884403c21f0b707511224d1af1e9927/88218/context.jpg 590w,\n/static/8884403c21f0b707511224d1af1e9927/72f4c/context.jpg 843w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>전역 컨텍스트 활성화</strong></p>\n<ul>\n<li>0: LexicalEnvironment, VariableEnvironment, thisBinding</li>\n</ul>\n</li>\n<li>\n<p>전역 컨텍스트 생성/ outer 함수 호출</p>\n<ul>\n<li>1,2: a에 1, outer에 함수 할당</li>\n<li>10: outer 함수호출, 전역 컨텍스트 비활성화</li>\n<li>2: outer실행 컨텍스트 활성화</li>\n</ul>\n</li>\n<li>\n<p>outer 컨텍스트 생성/ inner 함수 호출</p>\n<ul>\n<li>3: inner에 함수 할당</li>\n<li>7: inner 함수 호출, outer 실행 컨텍스트 비활성화</li>\n<li>3: inner 실행 컨텍스트 활성화 </li>\n</ul>\n</li>\n<li>\n<p>inner 함수 수행</p>\n<ul>\n<li>4: inner의 LE에서 a 탐색 -> undefined 출력</li>\n<li>5: a에 3할당</li>\n</ul>\n</li>\n<li>\n<p>inner 컨텍스트 종료 </p>\n<ul>\n<li>6: inner 함수 종료, inner 실행 컨텍스트 제거</li>\n<li>7: outer 실행 컨텍스트 재활성화</li>\n<li>8: outer의 LE에서 a탐색 -> GLOBAL의 LE에서 a 탐색 -> 1출력</li>\n</ul>\n</li>\n<li>\n<p>outer 컨텍스트 종료 </p>\n<ul>\n<li>9: outer함수 종료, outer 실행 컨텍스트 제거 </li>\n<li>10: 전역 컨텍스트 재활성화 </li>\n<li>11: GLOBAL의 LE에서 a탐색 -> 1출력</li>\n</ul>\n</li>\n<li>outer컨텍스트 </li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token string\">\"전역 컨텍스트\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    environmentRecord<span class=\"token operator\">:</span> <span class=\"token string\">'a, outer function'</span><span class=\"token punctuation\">,</span>\n    outerEnvironmentReferenece<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token operator\">:</span> window\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token string\">\"outer컨텍스트\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    environmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'inner function'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> \n    outerEnvironmentReferenece<span class=\"token operator\">:</span> <span class=\"token string\">'GLOBAL LexicalEnvironment'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token operator\">:</span> window\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token string\">\"inner컨텍스트\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    environmentRecord<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'a'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> \n    outerEnvironmentReferenece<span class=\"token operator\">:</span> <span class=\"token string\">'outer 컨텍스트'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token operator\">:</span> window\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"전역변수와-지역변수\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%97%AD%EB%B3%80%EC%88%98%EC%99%80-%EC%A7%80%EC%97%AD%EB%B3%80%EC%88%98\" aria-label=\"전역변수와 지역변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전역변수와 지역변수</h3>\n<ul>\n<li>전역변수: 전역 공간에서 선언</li>\n<li>지역변수: 함수 내부에서 선언</li>\n</ul>\n<h1 id=\"4-this\" style=\"position:relative;\"><a href=\"#4-this\" aria-label=\"4 this permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4 this</h1>\n<ul>\n<li>실행컨텍스트의 thisBinding에 this로 지정된 객체가 저장</li>\n<li>실행컨텍스 활성 당시 this가 지정되지 않은경우 \"전역객체\" 저장</li>\n<li>함수 호출하는 방법에 따라 this가 달라진다.(this에 대해서만 내용을 다룰 예정)</li>\n</ul>\n<h1 id=\"참고\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0\" aria-label=\"참고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고</h1>\n<ul>\n<li>코어 자바스크립트 - 위키북스</li>\n<li>인사이드 자바스크립트</li>\n<li>자바스크립트 완벽 가이드</li>\n<li>제로초 블로그</li>\n</ul>","excerpt":"개발을 하다보면 this의 범위가 함수, function, bind, call, apply별로 달라지는 걸볼 수 있는데 왜 이런지에 대해서 다뤄보려고 한다. 1 실행 컨텍스트란? 실행컨텍스트(execution context…","tableOfContents":"<ul>\n<li><a href=\"/Excute-context/#1-%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EB%9E%80\">1 실행 컨텍스트란?</a></li>\n<li><a href=\"/Excute-context/#2-variableenvironment\">2 VariableEnvironment</a></li>\n<li>\n<p><a href=\"/Excute-context/#3-lexicalenvironment\">3 LexicalEnvironment</a></p>\n<ul>\n<li>\n<p><a href=\"/Excute-context/#3-1-environmentrecord%EC%99%80-hoisting\">3-1 environmentRecord와 hoisting</a></p>\n<ul>\n<li><a href=\"/Excute-context/#%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EA%B7%9C%EC%B9%99\">호이스팅 규칙</a></li>\n<li><a href=\"/Excute-context/#%ED%95%A8%EC%88%98-%EC%84%A0%EC%96%B8%EB%AC%B8%EA%B3%BC-%ED%95%A8%EC%88%98-%ED%91%9C%ED%98%84%EC%8B%9D\">함수 선언문과 함수 표현식</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/Excute-context/#3-2-scope-scope-chain-outerenvironmentreference\">3-2 scope, scope chain, outerEnvironmentReference</a></p>\n<ul>\n<li><a href=\"/Excute-context/#scope-chain\">scope chain</a></li>\n<li><a href=\"/Excute-context/#%EC%A0%84%EC%97%AD%EB%B3%80%EC%88%98%EC%99%80-%EC%A7%80%EC%97%AD%EB%B3%80%EC%88%98\">전역변수와 지역변수</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/Excute-context/#4-this\">4 this</a></li>\n<li><a href=\"/Excute-context/#%EC%B0%B8%EA%B3%A0\">참고</a></li>\n</ul>","fields":{"slug":"/Excute-context/"},"frontmatter":{"title":"실행 컨텍스트","date":"Jan 24, 2020","tags":["javascript Core","javascript","excute context"],"keywords":["excute-context"]}}},"pageContext":{"slug":"/Excute-context/","series":[]}}}