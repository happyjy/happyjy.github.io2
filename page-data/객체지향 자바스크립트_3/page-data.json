{"componentChunkName":"component---src-templates-post-tsx","path":"/객체지향 자바스크립트_3/","result":{"data":{"markdownRemark":{"html":"<p>과제 - 강의 들으면 [보완]이라고 한 것들 찾아서 스터디해서 찾아 넣기</p>\n<h1 id=\"목표\" style=\"position:relative;\"><a href=\"#%EB%AA%A9%ED%91%9C\" aria-label=\"목표 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>목표</h1>\n<ul>\n<li>\n<p>전략적 패턴 적용</p>\n<ul>\n<li>기존 binder가 코드로 확정 되어 있다. 이 부분을 전략적으로 빼내는 방법을 살펴본다. </li>\n</ul>\n</li>\n<li>\n<p>call -> Observation</p>\n<ul>\n<li>\n<p>Binder, ViewModel 통신을 이전 강의 까지 call로 해결해쓴는데 이번에 Observation으로 해결을 설명합니다.<br>\n그래서 결과적으로 모델이 변하면 binder가 자동으로 view를변하게 해준는게 목표이다.   </p>\n<ul>\n<li><a href=\"https://happyjy.github.io/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_2/#observe---call%EB%A1%9C-%EB%8C%80%EC%B2%B4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">전 강의 observe -> call로 대체</a>  </li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>배울 keyword </p>\n<ul>\n<li>Strategy Pattern, Dependency Injection, </li>\n<li>Observer Pattern</li>\n<li>Template method Pattern</li>\n<li>Composite Pattern</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"strategy-patternbinder-class에-적용\" style=\"position:relative;\"><a href=\"#strategy-patternbinder-class%EC%97%90-%EC%A0%81%EC%9A%A9\" aria-label=\"strategy patternbinder class에 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Strategy Pattern(Binder Class에 적용)</h1>\n<h2 id=\"배울-것\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%EC%9A%B8-%EA%B2%83\" aria-label=\"배울 것 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배울 것</h2>\n<p>우리는 5가지 단계를 통해서 전략 패턴과, 전략패턴이 적용되기 위해 필수 조건인 알고리즘의 일반화를 배울것이다. </p>\n<ol>\n<li>Binder Class에서 Structure, strategy부분을 나눈다. </li>\n<li>strategy의 공통점을 찾는다. </li>\n<li>\n<p>찾은 strategy가 어떻게 상태와 관계를 맞는지 확인</p>\n<ul>\n<li>상태: 이전강의에서 최종코드 Binder class render method에 있는 코드 vm.styles, vm.attrivutes, vm.properties, vm.events</li>\n<li>공통된 Strategy: k, v, el, viewmodel))  </li>\n</ul>\n</li>\n<li>1,2,3에 도출된 형을 만들고 (Strategy, composite, template method pattern 적용)</li>\n<li>만든 형을 가지고 알고리즘을 만들것 입니다. (알고리즘 일반화)</li>\n<li>\n<p>Strategy pattern</p>\n<ul>\n<li>Composite pattern: Binder class에서 Stratege 부분을 뽑아내는 </li>\n<li>\n<p>Composition하는 과정에서 아래 개념 </p>\n<ul>\n<li>dependency, dependency injection </li>\n<li>Template method pattern</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>알고리즘의 일반화 </p>\n<ul>\n<li>Strtegy Pattern을 통해서 Binder Class를 수정한다(addProcess method추가, render method수정)</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"strategy-pattern-정의\" style=\"position:relative;\"><a href=\"#strategy-pattern-%EC%A0%95%EC%9D%98\" aria-label=\"strategy pattern 정의 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Strategy Pattern 정의</h2>\n<ul>\n<li>어떤 문제를 해결하기 위한 지식적인 부분, 도메인, 알고리즘을 교체하면서 문제를 해결할 수 있다. </li>\n</ul>\n<h2 id=\"binder-class에-strategy-적용-준비\" style=\"position:relative;\"><a href=\"#binder-class%EC%97%90-strategy-%EC%A0%81%EC%9A%A9-%EC%A4%80%EB%B9%84\" aria-label=\"binder class에 strategy 적용 준비 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binder class에 Strategy 적용 준비</h2>\n<blockquote>\n<p><code class=\"language-text\">Binder class</code>의 <code class=\"language-text\">Strategy</code>부분을 외제화 시켜<code class=\"language-text\">Processor class</code>인스턴스 위임을 받아서 처리하기 위한 과정을 설명할 것입니다.\nBinder class는 Structure&#x26;control, Strategy부분으로 나뉘어 있다. 아래르 확인해보자 </p>\n</blockquote>\n<h3 id=\"binder-class의-구조부분-확인\" style=\"position:relative;\"><a href=\"#binder-class%EC%9D%98-%EA%B5%AC%EC%A1%B0%EB%B6%80%EB%B6%84-%ED%99%95%EC%9D%B8\" aria-label=\"binder class의 구조부분 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binder class의 구조부분 확인</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/08153043b745519a64e1ca167613a475/3fd4f/1.Strategy_Structure%26Control.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.756795422031473%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABKklEQVQY012Q2XaCMBRF+RsZFA0hEJJAUAQH7PKtrvb//2M32NYHH/Y6uRnOubnR1Tec+pFzq7l4QyXlk7rcBQq0+kVJ8caOPM/ZbDYv3W63RKdOMvYNh31PZw17Y5iGCd85tNQMrscaTZzExPGKJGgSx4g8RSmFCfe11k8VQhAV4aCrcs7ecz0YHh+Web4xDAd619A3Hbau8bql1eFxJTG6Ron8adg6h7UWF7QoCqIkTShCy1c/83VzfN4HDt2VyU983z2P+5FxnLicZ+bzxG1qQ1BNWZZkWRZYk6Ypq9XSfUKUhk1VCLraMbaSo68xlcFVFVNXsm8rbKPRTU1RymCkqMJ8VZjvLnxRG4t8mWdEQuzI1ktKEhLSZ8qyfq8X/Wfp6MVfvZgt+gNrZsM9W5hyGwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Structure &amp; control\"\n        title=\"Structure &amp; control\"\n        src=\"/static/08153043b745519a64e1ca167613a475/799d3/1.Strategy_Structure%26Control.png\"\n        srcset=\"/static/08153043b745519a64e1ca167613a475/00d96/1.Strategy_Structure%26Control.png 148w,\n/static/08153043b745519a64e1ca167613a475/0b23c/1.Strategy_Structure%26Control.png 295w,\n/static/08153043b745519a64e1ca167613a475/799d3/1.Strategy_Structure%26Control.png 590w,\n/static/08153043b745519a64e1ca167613a475/3fd4f/1.Strategy_Structure%26Control.png 699w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span> </p>\n<h3 id=\"binder-class의-전략-부분-확인\" style=\"position:relative;\"><a href=\"#binder-class%EC%9D%98-%EC%A0%84%EB%9E%B5-%EB%B6%80%EB%B6%84-%ED%99%95%EC%9D%B8\" aria-label=\"binder class의 전략 부분 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binder class의 전략 부분 확인</h3>\n<ul>\n<li>전략부분: 특정 도메인(알고리즘,지식)을 해결하기 위한 전략적인 부분\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa80ede92591d3f370f7b6a4fd67c29b/6b4ef/2.Strategy_Strategy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.76254180602007%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABMklEQVQY032R206DQBRF+RprYWAuQCkMyK2Wam0lGhPv//8Xy6M1UV98WJmdM5OdffYEfb1h9AWDX6ONwxqLMxprLWlqcM6itcaYE5/6P4KxEbOupVrJWXo23YaL2lOkFWPd4qzjbLFgcb784lxYLsM/hOEPwUrHjFXHVbvm/rplHPZ0Xc9lW3PZdFyUFdtmYKhL+maNL3KcjrBxiEtCdBwRRhHRN0GsNPv+yONNycO8o6uvmLot73PD4zzRbyZ2uz3X255pqPDlSmoxJEkiKyZfxr9TBp+Xmc1ZZwlFnmJ0Su4MdWGkBkcpifJMk8lslTmawso8pW8b5sNe6qmkW4NS6jthHIsQ90idoqtT9DBU8ihCiY7VSRtJ5L3n/u6O2+OBl+cnXt/emOeZaZrkE1M+AOCiw8wiXhA0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Strategy\"\n        title=\"Strategy\"\n        src=\"/static/aa80ede92591d3f370f7b6a4fd67c29b/799d3/2.Strategy_Strategy.png\"\n        srcset=\"/static/aa80ede92591d3f370f7b6a4fd67c29b/00d96/2.Strategy_Strategy.png 148w,\n/static/aa80ede92591d3f370f7b6a4fd67c29b/0b23c/2.Strategy_Strategy.png 295w,\n/static/aa80ede92591d3f370f7b6a4fd67c29b/799d3/2.Strategy_Strategy.png 590w,\n/static/aa80ede92591d3f370f7b6a4fd67c29b/6b4ef/2.Strategy_Strategy.png 598w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Binder class 전략 부분 code를 Object로 변경해야한다.</p>\n<ul>\n<li>code를 Obejct로 변경하는 작업을 Composition이라고하며 바로아래 설명이 시작합니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/67fdfd361b045de3493bd760ac88eef3/1eaff/3.Strategy_CodeToObject.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.197346600331674%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABFElEQVQY002QzXKDMBCDeZxigo2B2CkhBmMgAdpOD732/R/j6/bn0INmdzRazUrZ65oYupHYeW4Xh9aWyhhsJbAVTW0xsmujMcIb/Tf/QQtXluXPnm1LYBkc2zqTQs/LPLEfb/Rdx82NpGEUsUHlBU+5QhUnlFLk+S+UKgghMM8zndxk3jtqfSL1kSNdeNsjUzpIMbAJpjAwXgPrkBh7SSFJ2kpTlQpzyrG6IEa5PQ6u1yuZE8NToVluGx+b5z5Hbj6JQeDzveO4i9GUuC+RPXXE/syza6QSTdvUuNowTZFlWRjHkez7TV1q6qrBNb8iaxpaEV7OlXAW11pqq3/6dLXGt4aX/cH+WHn2Z9Z1xXsvFeR8AddPpaRuxjWPAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Code-&gt;Object\"\n        title=\"Code-&gt;Object\"\n        src=\"/static/67fdfd361b045de3493bd760ac88eef3/799d3/3.Strategy_CodeToObject.png\"\n        srcset=\"/static/67fdfd361b045de3493bd760ac88eef3/00d96/3.Strategy_CodeToObject.png 148w,\n/static/67fdfd361b045de3493bd760ac88eef3/0b23c/3.Strategy_CodeToObject.png 295w,\n/static/67fdfd361b045de3493bd760ac88eef3/799d3/3.Strategy_CodeToObject.png 590w,\n/static/67fdfd361b045de3493bd760ac88eef3/1eaff/3.Strategy_CodeToObject.png 603w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"composition에-대해서\" style=\"position:relative;\"><a href=\"#composition%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\" aria-label=\"composition에 대해서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Composition에 대해서</h2>\n<blockquote>\n<ul>\n<li>Binder에서 strategy(algorithm, knowlege, domain) code를 뽑아내 Object로 변경으로 인터페이를 정의해 주입 받는 부분에서 사용할 수 있도록 변경하는 작업 </li>\n<li>\n<p>Depency Injection &#x26; Composition 관계</p>\n<ul>\n<li>Composition작업으로 Binder class는 dependency가 생기고 외부에서 Strategy부분을 주입 받으면서 Depency Injection이 일어난다. </li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<ul>\n<li>객체 지향에서는 composition을 사용해서 해결한다.\ncomposition이란 <strong>code를 object로 바꾸는것이다</strong>.\n그런데 code를 고치면 의존하고 있는 부분을 테스트를 다시 해야한다.\n그래서 <strong>code를 안바꾸고서 object로 바꾸고 싶다.(왜냐하면 변화가 있을때 마다 code를 변경해야 하기때문)</strong>\n전략을 도출하는데 성공했으면 code에서 strategy부분이 structure와 어떻게 관계를 맺는지 잘 확인해보고 그리고나서 code부분을 object로 변경해야 한다.\n하지만 임의의 객체로 변경하면 변경하려는 code와 일반화 관계를 맺을 수 없다.\n그래서 <strong>우리는 객체를 도출할떄 interface나 class로 type으로 노출</strong>해야 한다.\n왜냐하면 type을 정해야지만 code가 어떤식의 객체인지를 알아야 변경했을때 적용할 수 있기 때문이다.\n</li>\n</ul>\n<h3 id=\"dependency가-생기는-이유\" style=\"position:relative;\"><a href=\"#dependency%EA%B0%80-%EC%83%9D%EA%B8%B0%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"dependency가 생기는 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dependency가 생기는 이유</h3>\n<ul>\n<li>코드를 객체로 변경했기때문 </li>\n<li>코드 대신에 type을 정의해서 객체를 받아 들이면 기존코드에는 의존이 없었는데 객체를 알아야 Binder를 진행할 수 있다.<br>\n그래서 코드를 외부객체 composition으로 바꿀 것이다. 그러면 외부에서 공급되는 객체를 알아야 Binder가 작동할 수 있다.(그래서 Strategy 부분에 대해서 의존성이 생긴다 )</li>\n<li>\n<p>객체지향에서 Dependency가 생기는 이유가 뭘까? </p>\n<ul>\n<li>위임했기때문이 아니다! Strategy를 외부 객체에 의해서 해결하고 싶다. 이렇게 하고 싶은 이유는 변화가 있을때 마다 code를 변경해야 하기 때문이다. 그래서 code를 object로 바꿔주면 바꿔준 object에 대해서 의존성이 생기는 것 입니다. 이렇게 Binder는 Binder strategy와 의존광계가 생성이 된다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"didependency-injection\" style=\"position:relative;\"><a href=\"#didependency-injection\" aria-label=\"didependency injection permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DI(Dependency Injection)</h3>\n<ul>\n<li>의존성이 생겼을때 내부에서 의존성이 있는 sub Type을 만들어 내는 경우가 있고 공급받는 경우가 있는데 내부에서 만들면 다시 하드코딩을 해야하기 때문에 <strong>외부에서 공급</strong>받는 것을 말한다.(그래야 내부에는 type에 대한 의존만 있고 특정 객체에대한 의존성을 없앨 수 있다.) </li>\n</ul>\n<h3 id=\"정리\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%A6%AC\" aria-label=\"정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정리</h3>\n<blockquote>\n<p>Binder의 Strategy 부분을 Composite pattern으로 변경의 결론 </p>\n</blockquote>\n<ul>\n<li><strong>Composition(코드를 객체로 빼내는 순간)을 하면 <code class=\"language-text\">Dependency</code>,<code class=\"language-text\">Dependency Injection</code>이 생긴다.</strong></li>\n<li>\n<p><code class=\"language-text\">Dependency</code>가 생기는 이유는 코드를 객체로 변경했기 때문 </p>\n<ul>\n<li>객체에 대한 의존성을 내부에서 생성해버리면 dependency만 생긴다. 이러면 다시 코드를 건드려야 해서 외부에서 공급(<code class=\"language-text\">Dependency Injection</code>)받아야지면 객체를 뺀이유가 생긴다.  </li>\n</ul>\n</li>\n</ul>\n<h2 id=\"binder-class에-composition-적용-과정\" style=\"position:relative;\"><a href=\"#binder-class%EC%97%90-composition-%EC%A0%81%EC%9A%A9-%EA%B3%BC%EC%A0%95\" aria-label=\"binder class에 composition 적용 과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binder Class에 Composition 적용 과정</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bf1b712a31781d9e7a4dc9c69c610f92/2c0d9/4.ProcessorClass_TempalteMethod.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.894409937888206%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8klEQVQozy2SyW7bQBBE9TWWuAx3crgOh6t22U7iIM4hvgfIH+QW5LtfWkIORIHETPF1VW+mVtOXFqNLpioljWJcV+H7Psp3RRVKeQSB6M5hbVqWdUGFIVlRkOn7o/HDAM/z2My24jxXDIPluE5UueYyzyzLka7WNEXPdRjp6xrvaUsWhCyt4VA1nKaJRc5/MnJXV7h3wziOyCOXqanp5eDLXnM9r4zrGdM02KKmSjv6vOC5HZh0zZe6FMMa5foEQu1vd4SinuuyiWTErbzYcuI0dHy9VMzjylLOXMaJ95thXUdehebX6cLP857fLwNvU0OYZvjKxxcypZRE9TCMCORjXy0crOHzUXPqZ5rM0FUVr0J8Oy3044I2hrwq0UKui5S2yknimL8Hy5/rnjBUbJI0x5MCXM9lFQobRDhCnMrf52mgKHKsZFhIAY6zEwrnEb56lOY/cuvjkFGiu3tshjoTmpQua+nEfJ+EFGmM6VrKsiYOk/8G7mM0zwtwPMXW8diJget7PMmoO9H7ZmyaMuViMm59w7WrpYSSUbStc/JQjHUjpgFLL20+nzmakff5wHM/8H21fFssiQDESSQjR2yqsqArQ2qdkUseWZZTxAFx5BMmikjUyPpYIW5EjVz+MfV8TJaP0fLWG1mx5TGF4zj8A9LBKyK/X486AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Processor Class &amp; Tempalte Method\"\n        title=\"Processor Class &amp; Tempalte Method\"\n        src=\"/static/bf1b712a31781d9e7a4dc9c69c610f92/799d3/4.ProcessorClass_TempalteMethod.png\"\n        srcset=\"/static/bf1b712a31781d9e7a4dc9c69c610f92/00d96/4.ProcessorClass_TempalteMethod.png 148w,\n/static/bf1b712a31781d9e7a4dc9c69c610f92/0b23c/4.ProcessorClass_TempalteMethod.png 295w,\n/static/bf1b712a31781d9e7a4dc9c69c610f92/799d3/4.ProcessorClass_TempalteMethod.png 590w,\n/static/bf1b712a31781d9e7a4dc9c69c610f92/2c0d9/4.ProcessorClass_TempalteMethod.png 644w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span> </p>\n<ol>\n<li>\n<p>연역적 추리(다양한 현상으로 부터 원리가 되는 추상화를 도출)를 통해서 strategy로 부터 공통점을 이끌어낸다. </p>\n<ul>\n<li>연역적 추리를 통해 도출한 결과물: viewmodel, el, k, v</li>\n</ul>\n</li>\n<li>도출한 결과물을 통해서 Processor Class 생성</li>\n<li>생선한 Processort Class는 Template Method Pattenr을 가지고 있다.</li>\n</ol>\n<h3 id=\"template-method-patternprocessor-class\" style=\"position:relative;\"><a href=\"#template-method-patternprocessor-class\" aria-label=\"template method patternprocessor class permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Template method Pattern(Processor Class)</h3>\n<blockquote>\n<ul>\n<li>자신이 해야할일을 하고 Hook method에 위임을 통해서 나머지 일을 처리한다.   </li>\n<li>외부에서 Processor클래스 _process를 바로 호출하면 throw걸린다.  </li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">- 그래서 **Proccessor 클래스를 확장(상속)한 클래스에 _process를 재정의(overriding)한 곳에서 처리**하도록 의도해야 한다. </code></pre></div>\n<ul>\n<li>\n<p>부모와 자식사이에 Composition 일어난다. </p>\n<ul>\n<li>전략을 위임 했는데 외부에서 주입 받아 위임한것이 아니라 상속 받은 객체에게 위임했다. </li>\n<li>\n<p>그래서 우리가 DI를 두가지 방향으로 위임할 수 있다. </p>\n<ol>\n<li>외부에서 주입</li>\n<li>자식에서 주입 </li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>process method</p>\n<ul>\n<li>외부에서는 process가 template method다. </li>\n<li>내부에서는 process가 처리할때는 내부에서 선언한 메소드(_process)에 의존되어 있다. </li>\n</ul>\n</li>\n<li>\n<p>_process method</p>\n<ul>\n<li>Hook mehtod라고 한다.</li>\n</ul>\n</li>\n<li>[보완]객체지향 책에서 템플릿 메소드 부분 정리해서 추가하기 </li>\n</ul>\n<h2 id=\"binder-class에서-processor-class-정리\" style=\"position:relative;\"><a href=\"#binder-class%EC%97%90%EC%84%9C-processor-class-%EC%A0%95%EB%A6%AC\" aria-label=\"binder class에서 processor class 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binder class에서 Processor class 정리</h2>\n<blockquote>\n<p>Binder class에서 strategy pattern, composition pattern을 통해서 Processor class를 생성하고<br>\nProcessor에 여러 전략을 사용하기 위해서 Template Method pattern을 적용<br>\n아래에서 Template Method pattern을 적용하기 위해서 Processor Class를 상속한것을 설명합니다.</p>\n</blockquote>\n<ul>\n<li>Binder class의 Strategy부분은 Processor class 인스턴스 위임을 받아서 처리하려고한다. </li>\n<li>Binder class는 composition은 Processor class를 소유를 통해서(Processor class를 Dependency Injection)을 통해서 해결하려고 있고 이를 처리해주는 </li>\n<li>Processor class에서는 process마다 다양한 처리 방법을 Template Method방법을 통해서 해결 </li>\n</ul>\n<h2 id=\"processor-class를-상속-받은-hook-method\" style=\"position:relative;\"><a href=\"#processor-class%EB%A5%BC-%EC%83%81%EC%86%8D-%EB%B0%9B%EC%9D%80-hook-method\" aria-label=\"processor class를 상속 받은 hook method permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Processor Class를 상속 받은 Hook Method</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d7860b94b17fe170fa6b4c9b42ee9d26/20362/5.Processor_HookMethod.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.071240105540895%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABM0lEQVQoz21RW3LDIBDzcWpsXoZdwI/E6UzS3v9Cquy2mcy0HxqBjbRCdM5ZPNaC+z5jWyoG0+Ot72GMQW9+uDf/7l8xDMPJXfQWt0VxIbYmkJxorJhCgk4NU4yY64Q0ZZR07DOqTpAU4YJF4P9fs4O7I+FWPNaWoSoURmgOcBzkncM4jgQFw0jBSB7IPfFt8IunoUSHVT2nB05nqiSIfuR0B+toYAa40SByHd3BFpHpnXVPk1d0jfHvl4S1fJsVnWmsCBRZa88+ldf7fFfsm6BKRqsrRCtN7Z8uu5mGj2vCPifUrGhlRdOIhakzjUaKZPL42AXX80xipxumlOBDODvWHOF9QOS6W9YF171h3RaI8FFUUYtQxLRFkSisrWG/LWhz46MJu1bk46wob0QUObXH9y+U+90AoXyDdAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Processor Class &amp; Hook Method\"\n        title=\"Processor Class &amp; Hook Method\"\n        src=\"/static/d7860b94b17fe170fa6b4c9b42ee9d26/799d3/5.Processor_HookMethod.png\"\n        srcset=\"/static/d7860b94b17fe170fa6b4c9b42ee9d26/00d96/5.Processor_HookMethod.png 148w,\n/static/d7860b94b17fe170fa6b4c9b42ee9d26/0b23c/5.Processor_HookMethod.png 295w,\n/static/d7860b94b17fe170fa6b4c9b42ee9d26/799d3/5.Processor_HookMethod.png 590w,\n/static/d7860b94b17fe170fa6b4c9b42ee9d26/20362/5.Processor_HookMethod.png 758w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span> </p>\n<ul>\n<li>\n<p>전략이 어떤 structure와 관련이 되어 있는지 내용이 부족하다.</p>\n<ul>\n<li>그래서 Processort에서 받을만한 힌트는 vm의 key String값(viewmodel에 정의)으로 충분하다.</li>\n</ul>\n</li>\n<li>\n<p>Processor를 상속받은 클래스에 _process를 override해서 더 이상 throw를 던지지 않고 el.style에 k값의 키에 v를 세팅 </p>\n<ul>\n<li>Binder class render는 view를 실제로 수정할때 사용되는 코드</li>\n<li>여기서 k, v는 viewmodel에서 받은 key, value값이다. </li>\n</ul>\n</li>\n<li>예를 들어 첫번째 el.style가 있는 코드는 cat(=category)는 Styles로 정의했다.</li>\n<li>익명상속된 클래스의 장점: 만든 인스턴스를 한번만 만들어 한번만 사용하게해 다시 사용할 수 없게 한다. </li>\n<li>\n<p>우리는 이렇게 el에 style, property, attribute, event를 설정할 수 있는 전략 4개를 만들었다. </p>\n<ul>\n<li>4개 전략 이외에 예를들어 lazy loader, scroll injector등의 기능을 넣을 수 있게 됐다.  </li>\n</ul>\n</li>\n<li>이렇게 Processor를 상속받아 만은 인스턴스는 각기 다른 객체이지만 하나 \u001c의 Processor type으로 인식하게 된다.  </li>\n</ul>\n<h3 id=\"객체-망을-구성하는-3요소\" style=\"position:relative;\"><a href=\"#%EA%B0%9D%EC%B2%B4-%EB%A7%9D%EC%9D%84-%EA%B5%AC%EC%84%B1%ED%95%98%EB%8A%94-3%EC%9A%94%EC%86%8C\" aria-label=\"객체 망을 구성하는 3요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>객체 망을 구성하는 3요소</h3>\n<ul>\n<li>객체향은 객체망에 의해서 문제를 해결</li>\n<li>어떤 객체가 다른 객체를 '필드'수준, '메소드'수준, '자식'수준으로 안다. </li>\n</ul>\n<h2 id=\"binder-class-변경\" style=\"position:relative;\"><a href=\"#binder-class-%EB%B3%80%EA%B2%BD\" aria-label=\"binder class 변경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Binder class 변경</h2>\n<blockquote>\n<p>Binder에서 strategy 부분을 공급 받기 위해서 만든 Process class를 생성/ 상속 받은 클래스 인스턴스까지 만들어 봤으니 외부에서 Strategy를 주입 받기에 주입받는 Binder를 수정해보자 </p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8e3ce3ec8685b6052ce2be2995c6dbc8/7cf97/6.BinderClass_modification.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.8586387434555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAB60lEQVQoz02S227bMBBE9RF5yBc0sWXdSIqkLOrmSyW7TeMEbQK0LlCgfchP9L396tOVAwR9WBDEkjOzsxO1ztD4lsYqel/SO09fbwgu4E1FlqXEcfxWy2VMsoqpTSF9h8oVJk/e+tHd2DJ2ln1Xsxu2bNrdBayy8rjIKXVGvEoEaPkf6JLOKXbB0YRAnibc3i5YLJZEfSgZgmVdd2itBUyzXgdKY7DKoZW9ALzW4vWMl9TWsAk1Q1PiS42V0ionatqe5vCNcHphePjFeHhk2tRshb31jRB08qEiTVOKQsm4CQsZuyozsUZRe4MpRZAI0UVGZKwwTC+45z80P/4Svv7Gf/hJPZ1FdUuaFQKSskoSEgGd/ZtHDC4XW7SQGKkCna0u6qNTrnnWgc9+pHYt3dCzmU40u09Y8S94hXdW2HOcfK4FpHMJg5/vufRreWekX7wqfGg69lnOIMxGmA/bwM4X9GHN3b5inCb6YaBylYy+vpTTFUoptClF8Yp4XthlaaJwHEeatuXx6Ynz9zOn+3uG9cTzseHL/Y6uPnIYdpwfej4e9gzbicN45PheJmm9LENAxY5URM1ndHV1xfX1NTfvbshmj4SlskGyqWjWJUZ5yZsRYI2T0cs5TkZdEmEli7ZUktUcK/mdvfwHtZgpZaLJKhMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Processor Class &amp; Hook Method\"\n        title=\"Processor Class &amp; Hook Method\"\n        src=\"/static/8e3ce3ec8685b6052ce2be2995c6dbc8/799d3/6.BinderClass_modification.png\"\n        srcset=\"/static/8e3ce3ec8685b6052ce2be2995c6dbc8/00d96/6.BinderClass_modification.png 148w,\n/static/8e3ce3ec8685b6052ce2be2995c6dbc8/0b23c/6.BinderClass_modification.png 295w,\n/static/8e3ce3ec8685b6052ce2be2995c6dbc8/799d3/6.BinderClass_modification.png 590w,\n/static/8e3ce3ec8685b6052ce2be2995c6dbc8/7cf97/6.BinderClass_modification.png 764w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span> </p>\n<ul>\n<li>\n<h1 id=\"processors-설명\" style=\"position:relative;\"><a href=\"#processors-%EC%84%A4%EB%AA%85\" aria-label=\"processors 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>processors 설명</h1>\n<ul>\n<li>set으로 안만들고 Array로 만든 이유 </li>\n<li>한개개의 category당 한개의 값만 갖기 위해서(제일 마지막에 들어 온것만 덮어 쓴다)</li>\n</ul>\n</li>\n<li>\n<p>아래 코드 설명</p>\n<ul>\n<li>아래 주석 설명1, 설명2 참고 </li>\n<li>\n<p>pk: Processor의 catetory(cat)   </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">//# 설명1: 자바스크립트는 single thread machine이기 때문에 render method가 돌때 갑자기 addProcessor가 동작할 수 없다.</span>\n<span class=\"token keyword\">const</span> processors <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#processors<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#item<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">const</span> vm <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>viewmodel<span class=\"token punctuation\">[</span>item<span class=\"token punctuation\">.</span>viewmodel<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> el <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>el<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//# 설명2</span>\n<span class=\"token comment\">/*\n    # processor value \n    : Binder Class addProcessor에 의해서 생성된 #processors value\n        {\n            styles: {category: \"styles\"}, \n            attribute: {category:\"attribtues\"},\n            properties: {category:\"properties\"},\n            events: {category: \"events\"}\n        }\n\n    # vm value: ViewModel instance\n    : Binder Class render에 의해서 받은 value\n        : videModel Instacne에 아래 key값이 있다.\n        : 그래서 vm[pk]가 성립 가능\n        instance.styles\n        instance.attribute\n        instance.properties\n        instance.events                \n    \n    # processor.process()\n    : processor 인스턴스는 Process class를 상속받아서 생성\n\n*/</span>\nprocessors<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>pk<span class=\"token punctuation\">,</span> processor<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">[</span>pk<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">,</span>v<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n        processor<span class=\"token punctuation\">.</span><span class=\"token function\">process</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>    <span class=\"token comment\">//interface에 교환하는 작업 </span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"알고리즘의-일반화\" style=\"position:relative;\"><a href=\"#%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%EC%9D%98-%EC%9D%BC%EB%B0%98%ED%99%94\" aria-label=\"알고리즘의 일반화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>알고리즘의 일반화</h3>\n<ul>\n<li>구조부분을 남기고 Strategy에 해당하는 code를 object를 type으로 빼냈다. </li>\n<li>그리고 빼낸 Object를 DI를 한다. </li>\n<li>그리고 받은 Objct기준으로 알고리즘을 바꾸는것을 말한다.</li>\n<li>\n<p><strong>알고리즘의 일반화가 어렵기때문에 전략패턴을 사용하기 어렵다</strong></p>\n<ul>\n<li>안정화 시키려면 Process class에 기능이 적은게 좋다. </li>\n<li>그래야 Procssor를 의존하고 있는 Binder도 코드가 안 변하니까. </li>\n<li>그래서 Binder코드를 짜기 어렵다. </li>\n<li>이렇게 안정화 되어 있는 코드는 <strong>약속하고 있는 protocol 내용이 적다.</strong> </li>\n<li>적은데도 똑같은 알고리즘을 작성하는 것이 어렵다. </li>\n<li><strong>그분이 processors를 forEach 돌리는 부분이다.</strong></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"binder에-addprocessort-추가\" style=\"position:relative;\"><a href=\"#binder%EC%97%90-addprocessort-%EC%B6%94%EA%B0%80\" aria-label=\"binder에 addprocessort 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>binder에 addProcessort 추가</h2>\n<blockquote>\n<p>Binder class가 전략 패턴으로 바뀜으로 addProcessor를 추가해 전략을 추가하는 로직치 추가 됐다.</p>\n</blockquote>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/095331cd3b646f65bac3ab2f11e9073f/ea61f/7.BinderInstance_modification.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.21761658031088%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABPUlEQVQY0z2R6W6DMBCEeRwC4fSFTcJtTEIgCqRR3/9FpsZV+2M02tXup1nb+7xXPNcR8zxiXQz2zWDb7vi8J3x/jfh8TXhtR3/Csmjc79r19v3mfBw71HWDpmnQti289/rE6zbiNRvM2oJ1i7kb8dADntOEzg4WSqIoJIQoYMxkoQ9UVQ2lLhgGbcPMTlpreENv7DLHPBQoeQpBUlQsxpXnEFQhywjCMIDv+zidfOR5Dkop4jh2dRxHrhZC2NnsAGqYjmEcSkjBIDhFo3K0VqVNxRlHmqYOdDghxOmAHH70wjC08JNz72Ye9swCy3RBrRgkI7iIHCxNQDIBklO7lLhlzrnTsiz2DXf0fe9SRVGEIAh+gUfCqWUwvYIS1KWUzJ7OKK6qwrUsQBkDs0mTJHGSUrpP+Dv9fD7/A38A6uTL66WJPLQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"binderInstane_modification\"\n        title=\"binderInstane_modification\"\n        src=\"/static/095331cd3b646f65bac3ab2f11e9073f/799d3/7.BinderInstance_modification.png\"\n        srcset=\"/static/095331cd3b646f65bac3ab2f11e9073f/00d96/7.BinderInstance_modification.png 148w,\n/static/095331cd3b646f65bac3ab2f11e9073f/0b23c/7.BinderInstance_modification.png 295w,\n/static/095331cd3b646f65bac3ab2f11e9073f/799d3/7.BinderInstance_modification.png 590w,\n/static/095331cd3b646f65bac3ab2f11e9073f/ea61f/7.BinderInstance_modification.png 772w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span> </p>\n<ul>\n<li>\n<p>Binder가 Processor를 Dependency한다. </p>\n<ul>\n<li>Processor가 변경되면 Binder가 변경된다.</li>\n<li>의존성은 한방향으로만 되어야한다. </li>\n</ul>\n</li>\n<li>\n<p>Dependency가 생기면 Dependency Injection이 생긴다. </p>\n<ul>\n<li>code를 Object로 type으로 빼내면 Dependency가 생기고 Dependency Injection이 생긴다.  </li>\n</ul>\n</li>\n<li>참고\n(제로초 전략패턴)[https://www.zerocho.com/category/JavaScript/post/580f17ef77023c0015ee9688]</li>\n</ul>\n<h1 id=\"observation-pattern\" style=\"position:relative;\"><a href=\"#observation-pattern\" aria-label=\"observation pattern permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Observation Pattern</h1>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/34c3d6935545e8ae0a3f2e17242fc485/e44fa/8.ObserverPatternInMVVM.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.98412698412698%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABYElEQVQoz2VS7ZKCMAz0waDflAIiAsqNp+Cc7/8Oe0ng1Lv7sZOk3WybbXdaa1ijcSwVhqRwqhSqoHGIWur6Le/LFedaoY0K3GuMeUbGzloL6xxybaGNQ6YMlDbIKf7Npd442rp/YiJYFAVSSmiaBjFGOBJ/kfSGtTEGj4q4h8NBen5zN8EQAlJZot034Pw/Scst2ZZT4+TQoe8k8nRKraP/YKeNRSoc2pKarV8FiPQispgR75w1xHOoC/LdeXjv5QIMzvmAnaONFAOaRLdjAuFyueB8noTkfUCbPOqSJgkG+5Ahy9fD2rbFcl/weDywLIvU4mGz36PrB2oqMHcGX2PEfQiUWxzbBuPpjGHoMXUJkewpCVVVoes6jOOI6/UqNfv69LAURFQ0/ufHScBW8BoTeb879pjnWSa43W6YpknE6rpGlmWbh09D2bftAehLMDiXtc1TpXJpzPNXZLw/4jdgVkWMveXR1AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"binderInstane_modification\"\n        title=\"binderInstane_modification\"\n        src=\"/static/34c3d6935545e8ae0a3f2e17242fc485/799d3/8.ObserverPatternInMVVM.png\"\n        srcset=\"/static/34c3d6935545e8ae0a3f2e17242fc485/00d96/8.ObserverPatternInMVVM.png 148w,\n/static/34c3d6935545e8ae0a3f2e17242fc485/0b23c/8.ObserverPatternInMVVM.png 295w,\n/static/34c3d6935545e8ae0a3f2e17242fc485/799d3/8.ObserverPatternInMVVM.png 590w,\n/static/34c3d6935545e8ae0a3f2e17242fc485/e44fa/8.ObserverPatternInMVVM.png 630w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span> </p>\n<ul>\n<li>전 강의에서 binder대신에 call을 사용했다. 이번 시간에는 Observer Pattern을 적용할 것입니다. </li>\n<li>\n<p>방법 </p>\n<ul>\n<li>observe: Binder가 ViewModel을 감시한다고 설정하고 </li>\n<li>notify: ViewModel이 변하면 Binder에게 알려주는 형식이다. </li>\n</ul>\n</li>\n<li>\n<p>recognize property change</p>\n<ul>\n<li>어떻게 인메모리객체가 변할떄 알려줄 수 있을까? 를 자바스크립트에서는 \"defineProperty, Proxy\"이 두가지를 지원해줍니다. </li>\n</ul>\n</li>\n<li>\n<p>defineProperty &#x26; Proxy <code class=\"language-text\"></code></p>\n<ul>\n<li>\n<p>defineProperty: </p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">defineProperty mdn</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">defineProperties mdn</a></li>\n</ul>\n</li>\n<li>Proxy: ex6 부터 적용, babel로 변환이 안됨</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"listener--viewmodel\" style=\"position:relative;\"><a href=\"#listener--viewmodel\" aria-label=\"listener  viewmodel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Listener &#x26; ViewModel</h2>\n<h3 id=\"viewmodellistener-class\" style=\"position:relative;\"><a href=\"#viewmodellistener-class\" aria-label=\"viewmodellistener class permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ViewModelListener class</h3>\n<ul>\n<li>\n<p>event에서 eventListener를 등록할 때 함수로 등록합니다.\n\b하지만 지금은 객체의 특정한 함수를 호출해 observing 시킨다. </p>\n<h3 id=\"viewmodel-class에-observer-pattern-적용\" style=\"position:relative;\"><a href=\"#viewmodel-class%EC%97%90-observer-pattern-%EC%A0%81%EC%9A%A9\" aria-label=\"viewmodel class에 observer pattern 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ViewModel Class에 Observer Pattern 적용</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/*\n#index class\n* ViewModelValue\n* ViewModelListener\n* ViewModel\n*/</span>\n<span class=\"token keyword\">const</span> ViewModelValue <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\ncategory<span class=\"token punctuation\">;</span> k<span class=\"token punctuation\">;</span> v<span class=\"token punctuation\">;</span>\n<span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">subKey<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>        \n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> category<span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>k <span class=\"token operator\">=</span> k<span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>v <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> \n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<p>const ViewModelListener = class {\nviewmodelUpdated(updated){ throw 'override'; }\n}</p>\n<p>const ViewModel = class extends ViewModelListener {\nstatic get = data => new ViewModel(data);\nstatic #subjects = new Set;\nstatic #inited = false;\nstatic notify(vm) {\nthis.#subjects.add(vm);\nif (this.#inited) return\nthis.#inited = true;\nconst f = () => {\nthis.#subjects.forEach(vm => {\nif (vm.#isUpdated.size) {\nvm.notify();\nvm.#isUpdated.clear();\n}\n})\nrequestAnimationFrame(f);\n}\nrequestAnimationFrame(f);\n}\nstatic descriptor = (vm, category, k, v) => ({\nenumerable: true,\nget: () => v,\nset(newV) {\nv = newV;\n//POINT4.2 defineProperties set정의\nvm.#isUpdated.add(new ViewModelValue(category, k, v))\n}\n})</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">static define = (vm, category, obj) =&gt; (\n    //POINT4.1 reducing \n    Object.defineProperties(obj,\n        Object.entries(obj).reduce((r, [k, v]) =&gt; (r[k] = ViewModel.descriptor(vm, category, k, v), r), {})\n    )\n)\n\nsubKey = &#39;&#39;, parent = null;\nstyles = {}, attributes = {}, properties = {}, events = {};\n//POINT1: #isUpdated, #listeners\n#isUpdated = new Set, #listeners = new Set;\n\nconstructor(data, _ = type(data, &#39;object&#39;)) {\n    super();\n    //POTIN4: 중복을 없앴다.\n    Object.entries(data).forEach(([k, v]) =&gt; {\n        if (&#39;styles,attributes,properties&#39;.includes(k)) {\n            if (!v || typeof v != &#39;object&#39;) throw `invalid object k: ${k}, v:${v}`\n            this[k] = ViewModel.define(this, k, v);\n        } else {\n            Object.defineProperty(this, k, ViewModel.descriptor(this, &#39;&#39;, k, v))\n            if (v instanceof ViewModel) {\n                v.parent = this;\n                v.subKey = k;\n                v.addListener(this);\n            }\n        }\n    })\n    //\n    ViewModel.notify(this);\n    Object.seal(this);\n}\n\nviewmodelUpdated(updated){ updated.forEach(v =&gt; this.#isUpdated.add(v));}\n//POINT2: addListener, removeListener method\naddListener(v, _ = type(v, ViewModelListener)){ this.#listeners.add(v);}\nremoveListener(v, _ = type(v, ViewModelListener)){ this.#listeners.delete(v);}\n//POINT3: notify method\nnotify(){ this.#listeners.forEach(v =&gt; v.viewmodelUpdated(this.#isUpdated));}</code></pre></div>\n<p>}</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* 1.subject이기때문에 listener를 거느리고 있어야 notification을 할 수 있다. \n    * #listener에 listener를 받아서 notification될때 #listener에 nofication을 때려준다!\n* 2.addListener, removeListener method\n    * #listener에 추가, 제거해주는 method\n* 3.notify method\n    * true, false가 아니라 Set type을 보내주는 이유 \n        - update가 여러번 일어 날 수 있기 때문에 \n* 4.중복을 없앴다\n    * &quot;&quot;.inclues.(k)\n        - 문자열의 indexof는 자바스크립트에서 특별하게 빠르다. (object에서 key를 찾는 것보다)\n    * defineProperty를 할것이다 왜냐하면 setter를 감시하기 위해서 \n* 4.1.reducing\n    * [reduce mdn](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)\n    * reducing 설명\n        - reduce두번째 인자는 accumulaotr 초기값을 설정\n        - reduce함수에는 하나의 인자 callback function이 들어와야 합니다. \n        - callback function의 인자 설명\n            * 첫번째 인자: callback&#39;s return values(reduce의 두번째 인자로 초기화 가능)\n            * 두번재 인자: Current Value(배열의 요소)\n            * 세번째 인자: Current Index\n            * 네번째 인자: Source Array\n        - 배열 두번째 순회 설명  \n            * 그럼 다음 2번째 배열 인자를 순회 했을때 callback의 첫번째 인자 &quot;accumulator&quot;는 reduce 첫번째 요소를 순회 했을때 accumulator의 return 값 callbcak function 의 첫번째 인자(accumulator)가 된다. \n        - 결국 위 코드에서는 r객체가 반환 되겠습니다. \n            * 반된 값은 아래와 같습니다. \n            ```js\n            //Object.entries(obj)가 아래와 같은 값을 가질때 반환 값 입니다.\n            //ViewModel의 descriptor method를 참고하면 이해가 될 것입니다.\n            [[&quot;width&quot;, &quot;50%&quot;], [&quot;background&quot;, &quot;#ffa&quot;], [&quot;cursor&quot;, &quot;pointer&quot;]] \n\n            {\n                width: {enumerable: true, get f, set: f ...}\n                background: {enumerable: true, get f, set: f ...}\n                cursor: {enumerable: true, get f, set: f ...}\n            }\n            ```\n    * reduce의 두번째 인자는 초기화 데이터 타입으로, return시 이 type으로 반환된다. \n        - 현재 {} 으로 초기화\n        - \n    * Object.entries(obj)는 2차원 배열을 반환\n        ```js\n            [[&quot;width&quot;, &quot;50%&quot;], [&quot;background&quot;, &quot;#ffa&quot;], [&quot;cursor&quot;, &quot;pointer&quot;]] \n        ```\n* POINT4.2 defineProperties set정의\n    - vm(ViewModel instance)에 #isUpdated(Set type)에 뭔가를 추가해주고 싶다. \n    - 뭔가란?\n        * ViewModelValue의 instance!!! 코드 참고 \n        ```js\n            vm.#isUpdated.add(new ViewModelValue(vm.subKey, category, k, v))\n        ```\n    - 이렇게 set에 설정을 하게 되면 이것을 끄집어 낼때 예를 들어 style에 background가 빨간색으로 바뀌었네 라고 알수 있습니다. \n    - 옵저버패턴에서 subject... 지옥이네 🐶빡세네 \n\n## 핵심\n* POINT4.2 defineProperties set정의에 아래와 같이 ViewModeValue instance를 넘겨주고 notification되면 set에 담겨있는 것을 호출하는 메커니즘 이해가 중요합니다. \n ```js\n    new ViewModelValue(vm.subKey, category, k, v))</code></pre></div>\n<h1 id=\"compositeviewmodel-class-수정\" style=\"position:relative;\"><a href=\"#compositeviewmodel-class-%EC%88%98%EC%A0%95\" aria-label=\"compositeviewmodel class 수정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Composite(ViewModel class 수정)</h1>\n<blockquote>\n<p>내가 내 문제를 동일한 문제임에도 불구하고 내가 해결하지 않고 위임을 계속 반복해서 그것들을 취함하는 행동들을 말합니다.\n이 부분은 ViewModel class와 관련되 있습니다. </p>\n</blockquote>\n<ul>\n<li>\n<p>대중 계층에 대한 고민이 상항 있다. </p>\n<ul>\n<li>예를 들어 폴더안에 파일 폴더안에 파일</li>\n<li>다중노드가 전개되어 있는 트리를 얼마나 빠르게 화면에 뿌릴 수 있는지 중요!</li>\n</ul>\n</li>\n<li>\n<p>동적탐색, 트리탐색으로 풀 수 있는데</p>\n<ul>\n<li>속도는 동적탐색이 빠른데 정형화된 알고리즘으로 가면 트리 탐색이 쉽다.  </li>\n</ul>\n</li>\n<li>\n<p>우리에게 Composite 문제가 필요한가? </p>\n<ul>\n<li>우리가 만든 ViewModel 안에 ViewModel이 있었다.(wrapper, title, contents)</li>\n<li>이렇게 viewModel안에 있는 ViewModel이 변화가 일어났을때 자기의 변화는 자기가 구독하고 있는에게는 간다. </li>\n<li>그런데 우리는 구독을 ViewModel에게 걸가? 아니 이 ViewModel을 소유하고 있는 ViewModel에게 건다(sub ViewModel에게 구독을 걸지 않는다.)</li>\n<li>그 이유는 binder는 통 VeiwModel을 알아야지 아이템이 맵핑되어 있는 전체 ViewModel을 매핑 할 수 있기 때문입니다. 그래서 다 감싸고 있는 ViewModel에 구독을 한다. (sub ViewModel에 구독을 하지 않습니다.)</li>\n<li>그러면 우리는 전제 다 감싸고 잇는 ViewModel뿐이 아니라 sub ViewModel에게도 Listener에게 알려야 합니다. sub ViewModel안에 또 sub ViewModel이 있다면 이것도 Lsitener에게 알려 줍니다. 모든걸 다 알려줘야 합니다.    </li>\n<li>이런 문제를 동적탐색, 트리탐색으로 풀지 않고 객체지향에서는 <code class=\"language-text\">동적위임</code>으로 해결한다!!!</li>\n</ul>\n</li>\n<li>\n<p>Binder Class가 변경된 부분 주석으로 걸어 놓은 POINT1, 2, 3, 4, 5, 5.1 내용 확인</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">/*\n#index class\n* ViewModelValue\n* ViewModelListener\n* ViewModel\n*/</span>\n<span class=\"token keyword\">const</span> ViewModelValue <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\">//POINT3: subKey</span>\nsubKey<span class=\"token punctuation\">;</span> category<span class=\"token punctuation\">;</span> k<span class=\"token punctuation\">;</span> v<span class=\"token punctuation\">;</span>\n<span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">subKey<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subKey <span class=\"token operator\">=</span> subKey<span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> category<span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>k <span class=\"token operator\">=</span> k<span class=\"token punctuation\">;</span> \n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>v <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> \n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n<p>const ViewModelListener = class {\nviewmodelUpdated(updated){ throw 'override'; }\n}</p>\n<p>const ViewModel = class extends ViewModelListener {\nstatic get = data => new ViewModel(data);\nstatic #subjects = new Set;\nstatic #inited = false;\n//POINT5.1 notify: observer에게 통보할 subjects들이 모인 곳\n// vm.notify는 결국 v.viewmodelUpdated를 통해서 binder의 viewmodelupdated를 통해서 el을 변경한다 !!!\nstatic notify(vm) {\nthis.#subjects.a dd(vm);\nif (this.#inited) return\nthis.#inited = true;\nconst f = () => {\nthis.#subjects.forEach(vm => {\nif (vm.#isUpdated.size) {   //업데이트 여부 확인\nvm.notify();            //vm이 가지고 있는 Listener들에게 notify\nvm.#isUpdated.clear();  //notify한 것은 제거 해준다.\n}\n})\nrequestAnimationFrame(f);\n}\nrequestAnimationFrame(f);\n}\nstatic descriptor = (vm, category, k, v) => ({\nenumerable: true,\nget: () => v,\nset(newV) {\nv = newV;\n//POINT4 vm.subKey 추가: 자식이자 자신입을 알려주기 위해서\nvm.#isUpdated.add(new ViewModelValue(vm.subKey, category, k, v))\n}\n})</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">static define = (vm, category, obj) =&gt; (\n    Object.defineProperties(obj,\n        Object.entries(obj).reduce((r, [k, v]) =&gt; (r[k] = ViewModel.descriptor(vm, category, k, v), r), {})\n    )\n)\n\nsubKey = &#39;&#39;, parent = null;\nstyles = {}, attributes = {}, properties = {}, events = {};\n#isUpdated = new Set, #listeners = new Set;\n\nconstructor(data, _ = type(data, &#39;object&#39;)) {\n    super();\n    Object.entries(data).forEach(([k, v]) =&gt; {\n        if (&#39;styles,attributes,properties&#39;.includes(k)) {\n            if (!v || typeof v != &#39;object&#39;) throw `invalid object k: ${k}, v:${v}`\n            this[k] = ViewModel.define(this, k, v);\n        } else {\n            //POINT1: el의 wrapper, title, contents\n            Object.defineProperty(this, k, ViewModel.descriptor(this, &#39;&#39;, k, v))\n            if (v instanceof ViewModel) {\n                //부모자식 개념이 생겼다. \n                v.parent = this;      //부모\n                v.subKey = k;         //subKey가 누구 소속일때 할당(부모를 알게 된다), 없는건 root\n                v.addListener(this);  //자식의 Listener가 되는 코드\b(자식이 변화 했을때 변화를 알아차려 나의 일부의 변화로 포함 시킬 수 있다. )\n            }\n            //\n        }\n    })\n    //POINT5: ViewModel.notify\n    ViewModel.notify(this); //ViewModel이 새로 만들어졌을때 변경됐다고 알려준다.(ViewModel기준으로 ViewModel이 바뀌면 한번만)\n    Object.seal(this);\n}\n\n//POINT2: viewmodelUpdated\nviewmodelUpdated(updated){ updated.forEach(v =&gt; this.#isUpdated.add(v));}\naddListener(v, _ = type(v, ViewModelListener)){ this.#listeners.add(v);}\nremoveListener(v, _ = type(v, ViewModelListener)){ this.#listeners.delete(v);}\nnotify(){ this.#listeners.forEach(v =&gt; v.viewmodelUpdated(this.#isUpdated));}</code></pre></div>\n<p>}</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">`중요: Observer pattenr은 보통 Composite 같이 일어나는데 concept은 이해가 되지만 코드와 연관 지어서 고민해볼 필요가 있습니다.`\n* POINT1 el의 wrapper, title, contents가 들어오는 케이스\n    - 이것의 변화도 위로 보고 해야한다.( ViewModel의 옵저버가 되야 한다.) 그래야 얘를 수신 할 수 있다. \n    - subject일 경우 그의 자식인 viewModel에게는 옵저버가 되어야 한다.(변화를 수신해야 변화를 외부에 통보할 수 있다.)  \n    - subject이면서 동시에 viewModel에 옵저버이기도 합니다. 그래서 내가 viewModel이 아니면 전파가 끝남\n* [보완] - 분석\n    - ViewModel Class의 notify부분 분석 필요(subject의 기능이 들었다.)\n    - ViewModel Class Constructor의 ViewModel.notify에서 v에 따라서 VeiwModel의 viewmodelUpdated, binder의 viewModelUpdated가 호출 된다. 어떤 경우인지 확인필요(확인하면서 concept정리)\n\n\n\n# Observer(Binder Class 수정)\n* Binder가 실제로 ViewModel을 구독역할(Observer)을한다. \n* Binder Class가 변경된 부분 주석으로 걸어 놓은 POINT1, 2 내용 확인\n```js\n    const Binder = class extends ViewModelListener {\n        #items = new Set;\n        #processors = {};\n\n        //POINT2: 공포의 Listener를 구현\n        viewmodelUpdated(updated) {\n            const items = {};\n            this.#items.forEach(({ vmName, el }) =&gt; {\n                items[vmName] = [type(rootViewModel[vmName], ViewModel), el];\n            });\n            updated.forEach(({ subKey, category, k, v }) =&gt; {\n                if (!items[subKey]) return;\n                const [vm, el] = items[subKey], processor = this.#processors[category];\n                if (!el || !processor) return;\n                processor.process(vm, el, k, v);\n            })\n        }\n\n        add(v, _ = type(v, BinderItem)) { this.#items.add(v); }\n        addProcessor(v, _ = type(v, Processor)) { this.#processors[v.category] = v; }\n        render(viewmodel, _ = type(viewmodel, ViewModel)) {\n            const processores = Object.entries(this.#processors)\n            this.#items.forEach(({ vmName,el }) =&gt; {\n                const vm = type(viewmodel[vmName], ViewModel);\n                processores.forEach(([pk, processor]) =&gt; {\n                    Object.entries(vm[pk]).forEach(([k, v]) =&gt; {\n                        processor.process(vm, el, k, v)\n                    })\n                })\n            })\n        }\n        //POINT1: 특정 ViewModel에 listener에 등록되고 말고를 결정한다. \n        watch(viewmodel, _ = type(viewmodel, ViewModel)) {\n            viewmodel.addListener(this);\n            this.render(viewmodel);\n        }\n        unwatch(viewmodel, _ = type(viewmodel, ViewModel)) {\n            viewmodel.removeListener(this);\n        }\n\n    }</code></pre></div>\n<ul>\n<li>\n<p>[보완] - 분석</p>\n<ul>\n<li>viewmodelUpdated method breakpoint걸어 확인해보기</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"client\" style=\"position:relative;\"><a href=\"#client\" aria-label=\"client permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Client</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> Scanner <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">scan</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> HTMLElement<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> binder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Binder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkItem</span><span class=\"token punctuation\">(</span>binder<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> stack <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>el<span class=\"token punctuation\">.</span>firstElementChild<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">let</span> target<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>target <span class=\"token operator\">=</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkItem</span><span class=\"token punctuation\">(</span>binder<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>firstElementChild<span class=\"token punctuation\">)</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>firstElementChild<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>nextElementSibling<span class=\"token punctuation\">)</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>nextElementSibling<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> binder<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">checkItem</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">binder<span class=\"token punctuation\">,</span> el</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> vmName <span class=\"token operator\">=</span> el<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-viewmodel'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>vmName<span class=\"token punctuation\">)</span> binder<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">BinderItem</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> vmName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> scanner <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> binder <span class=\"token operator\">=</span> scanner<span class=\"token punctuation\">.</span><span class=\"token function\">scan</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#target'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbinder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'styles'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nbinder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'attributes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nbinder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'properties'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nbinder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">on</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>k<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token function\">v</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">,</span> vm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'events'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getRandom</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">150</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">100</span>\n<span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    styles<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        width<span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span>\n        background<span class=\"token operator\">:</span> <span class=\"token string\">'#ffa'</span><span class=\"token punctuation\">,</span>\n        cursor<span class=\"token operator\">:</span> <span class=\"token string\">'pointer'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    events<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e<span class=\"token punctuation\">,</span> vm</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            vm<span class=\"token punctuation\">.</span>parent<span class=\"token punctuation\">.</span>isStop <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    properties<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        innerHTML<span class=\"token operator\">:</span> <span class=\"token string\">'Title'</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> contents <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    properties<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        innerHTML<span class=\"token operator\">:</span> <span class=\"token string\">'Contents'</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> rootViewModel <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    isStop<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">changeContents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>wrapper<span class=\"token punctuation\">.</span>styles<span class=\"token punctuation\">.</span>background <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">rgb(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>contents<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    wrapper<span class=\"token punctuation\">,</span>\n    title<span class=\"token punctuation\">,</span>\n    contents\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nbinder<span class=\"token punctuation\">.</span><span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>rootViewModel<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">f</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    rootViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">changeContents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>rootViewModel<span class=\"token punctuation\">.</span>isStop<span class=\"token punctuation\">)</span> <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span></code></pre></div>\n<h1 id=\"전체코드\" style=\"position:relative;\"><a href=\"#%EC%A0%84%EC%B2%B4%EC%BD%94%EB%93%9C\" aria-label=\"전체코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>전체코드</h1>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>UTF-8<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>MVVM<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>target<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">data-viewmodel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>wrapper<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h2</span> <span class=\"token attr-name\">data-viewmodel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h2</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>section</span> <span class=\"token attr-name\">data-viewmodel</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>contents<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>section</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">type</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">target<span class=\"token punctuation\">,</span> type</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> type <span class=\"token operator\">==</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">typeof</span> target <span class=\"token operator\">!=</span> type<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">invalid type </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>target<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> : </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span>target <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">type</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">throw</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">invalid type </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>target<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> : </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">return</span> target<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> ViewModelListener <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">viewmodelUpdated</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">updated</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">throw</span> <span class=\"token string\">'override'</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> ViewModel <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">extends</span> ViewModelListener <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">static</span> <span class=\"token function-variable function\">get</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ViewModel</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">static</span> #subjects <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">static</span> #inited <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">static</span> <span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#subjects<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#inited<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#inited <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">f</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#subjects<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">.</span>#isUpdated<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            vm<span class=\"token punctuation\">.</span><span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                            vm<span class=\"token punctuation\">.</span>#isUpdated<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">static</span> <span class=\"token function-variable function\">descriptor</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                enumerable<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> v<span class=\"token punctuation\">,</span>\n                <span class=\"token keyword\">set</span><span class=\"token punctuation\">(</span>newV<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    v <span class=\"token operator\">=</span> newV<span class=\"token punctuation\">;</span>\n                    vm<span class=\"token punctuation\">.</span>#isUpdated<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">ViewModelValue</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">.</span>subKey<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token keyword\">static</span> <span class=\"token function-variable function\">define</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> obj</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n                Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperties</span><span class=\"token punctuation\">(</span>\n                    obj<span class=\"token punctuation\">,</span>\n                    Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">r<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">descriptor</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n\n            subKey <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n            parent <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n            styles <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            attributes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            properties <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            events <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            #isUpdated <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">;</span>\n            #listeners <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">,</span> <span class=\"token string\">'object'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'styles,attributes,properties'</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>v <span class=\"token operator\">||</span> <span class=\"token keyword\">typeof</span> v <span class=\"token operator\">!=</span> <span class=\"token string\">'object'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throw</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">invalid object k: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>k<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, v:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>v<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n                        <span class=\"token keyword\">this</span><span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">define</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                        Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">descriptor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>v <span class=\"token keyword\">instanceof</span> <span class=\"token class-name\">ViewModel</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                            v<span class=\"token punctuation\">.</span>parent <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">;</span>\n                            v<span class=\"token punctuation\">.</span>subKey <span class=\"token operator\">=</span> k<span class=\"token punctuation\">;</span>\n                            v<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                Object<span class=\"token punctuation\">.</span><span class=\"token function\">seal</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token function\">viewmodelUpdated</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">updated</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                updated<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#isUpdated<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> ViewModelListener<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#listeners<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">removeListener</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> ViewModelListener<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#listeners<span class=\"token punctuation\">.</span><span class=\"token function\">delete</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">notify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#listeners<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span> <span class=\"token operator\">=></span> v<span class=\"token punctuation\">.</span><span class=\"token function\">viewmodelUpdated</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#isUpdated<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> ViewModelValue <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n            subKey<span class=\"token punctuation\">;</span> category<span class=\"token punctuation\">;</span> k<span class=\"token punctuation\">;</span> v<span class=\"token punctuation\">;</span>\n            <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">subKey<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subKey <span class=\"token operator\">=</span> subKey<span class=\"token punctuation\">;</span> \n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> category<span class=\"token punctuation\">;</span> \n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>k <span class=\"token operator\">=</span> k<span class=\"token punctuation\">;</span> \n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>v <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> \n                Object<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> BinderItem <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n            el<span class=\"token punctuation\">;</span>\n            vmName<span class=\"token punctuation\">;</span>\n            <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> vmName<span class=\"token punctuation\">,</span> _0 <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> HTMLElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> _1 <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>vmName<span class=\"token punctuation\">,</span> <span class=\"token string\">'string'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>el <span class=\"token operator\">=</span> el<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>vmName <span class=\"token operator\">=</span> vmName<span class=\"token punctuation\">;</span>\n                Object<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> Binder <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">extends</span> ViewModelListener <span class=\"token punctuation\">{</span>\n            #items <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Set</span><span class=\"token punctuation\">;</span>\n            #processors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            <span class=\"token function\">viewmodelUpdated</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">updated</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> items <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#items<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> vmName<span class=\"token punctuation\">,</span> el <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    items<span class=\"token punctuation\">[</span>vmName<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token function\">type</span><span class=\"token punctuation\">(</span>rootViewModel<span class=\"token punctuation\">[</span>vmName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                updated<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> subKey<span class=\"token punctuation\">,</span> category<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>items<span class=\"token punctuation\">[</span>subKey<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> items<span class=\"token punctuation\">[</span>subKey<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> processor <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#processors<span class=\"token punctuation\">[</span>category<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>el <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>processor<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n                    processor<span class=\"token punctuation\">.</span><span class=\"token function\">process</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> BinderItem<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#items<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">v<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> Processor<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#processors<span class=\"token punctuation\">[</span>v<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">viewmodel<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>viewmodel<span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> processores <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#processors<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>#items<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> vmName<span class=\"token punctuation\">,</span>el <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">const</span> vm <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>viewmodel<span class=\"token punctuation\">[</span>vmName<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    processores<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>pk<span class=\"token punctuation\">,</span> processor<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                        Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">[</span>pk<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">]</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                            processor<span class=\"token punctuation\">.</span><span class=\"token function\">process</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">viewmodel<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>viewmodel<span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                viewmodel<span class=\"token punctuation\">.</span><span class=\"token function\">addListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>viewmodel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">unwatch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">viewmodel<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>viewmodel<span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                viewmodel<span class=\"token punctuation\">.</span><span class=\"token function\">removeListener</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> Processor <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n            category<span class=\"token punctuation\">;</span>\n            <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">category</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>category <span class=\"token operator\">=</span> category<span class=\"token punctuation\">;</span>\n                Object<span class=\"token punctuation\">.</span><span class=\"token function\">freeze</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">process</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> _0 <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">,</span> ViewModel<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                    _1 <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> HTMLElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                                    _2 <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> <span class=\"token string\">\"string\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">_process</span><span class=\"token punctuation\">(</span>vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">throw</span> <span class=\"token string\">'override'</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> Scanner <span class=\"token operator\">=</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">scan</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">el<span class=\"token punctuation\">,</span> _ <span class=\"token operator\">=</span> <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> HTMLElement<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> binder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Binder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkItem</span><span class=\"token punctuation\">(</span>binder<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">const</span> stack <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>el<span class=\"token punctuation\">.</span>firstElementChild<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">let</span> target<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>target <span class=\"token operator\">=</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">checkItem</span><span class=\"token punctuation\">(</span>binder<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>firstElementChild<span class=\"token punctuation\">)</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>firstElementChild<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>nextElementSibling<span class=\"token punctuation\">)</span> stack<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">.</span>nextElementSibling<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">return</span> binder<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">checkItem</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">binder<span class=\"token punctuation\">,</span> el</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">const</span> vmName <span class=\"token operator\">=</span> el<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'data-viewmodel'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>vmName<span class=\"token punctuation\">)</span> binder<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">BinderItem</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> vmName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">const</span> scanner <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> binder <span class=\"token operator\">=</span> scanner<span class=\"token punctuation\">.</span><span class=\"token function\">scan</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#target'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        binder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'styles'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        binder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'attributes'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        binder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">[</span>k<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> v<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'properties'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        binder<span class=\"token punctuation\">.</span><span class=\"token function\">addProcessor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">class</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Processor</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">_process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">vm<span class=\"token punctuation\">,</span> el<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">,</span> v</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> el<span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">on</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>k<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">e</span> <span class=\"token operator\">=></span> <span class=\"token function\">v</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">,</span> vm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">'events'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getRandom</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">150</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">100</span>\n        <span class=\"token keyword\">const</span> wrapper <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            styles<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                width<span class=\"token operator\">:</span> <span class=\"token string\">'50%'</span><span class=\"token punctuation\">,</span>\n                background<span class=\"token operator\">:</span> <span class=\"token string\">'#ffa'</span><span class=\"token punctuation\">,</span>\n                cursor<span class=\"token operator\">:</span> <span class=\"token string\">'pointer'</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            events<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e<span class=\"token punctuation\">,</span> vm</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    vm<span class=\"token punctuation\">.</span>parent<span class=\"token punctuation\">.</span>isStop <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">const</span> title <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            properties<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                innerHTML<span class=\"token operator\">:</span> <span class=\"token string\">'Title'</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">const</span> contents <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            properties<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n                innerHTML<span class=\"token operator\">:</span> <span class=\"token string\">'Contents'</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">const</span> rootViewModel <span class=\"token operator\">=</span> ViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n            isStop<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n            <span class=\"token function\">changeContents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>wrapper<span class=\"token punctuation\">.</span>styles<span class=\"token punctuation\">.</span>background <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">rgb(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">,</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">getRandom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>contents<span class=\"token punctuation\">.</span>properties<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            wrapper<span class=\"token punctuation\">,</span>\n            title<span class=\"token punctuation\">,</span>\n            contents\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        binder<span class=\"token punctuation\">.</span><span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>rootViewModel<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">f</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            rootViewModel<span class=\"token punctuation\">.</span><span class=\"token function\">changeContents</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>rootViewModel<span class=\"token punctuation\">.</span>isStop<span class=\"token punctuation\">)</span> <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span>\n    </span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>","excerpt":"과제 - 강의 들으면 보완이라고 한 것들 찾아서 스터디해서 찾아 넣기 목표 전략적 패턴 적용 기존 binder가 코드로 확정 되어 있다. 이 부분을 전략적으로 빼내는 방법을 살펴본다.  call -> Observation Binder…","tableOfContents":"<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#%EB%AA%A9%ED%91%9C\">목표</a></li>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#strategy-patternbinder-class%EC%97%90-%EC%A0%81%EC%9A%A9\">Strategy Pattern(Binder Class에 적용)</a></p>\n<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#%EB%B0%B0%EC%9A%B8-%EA%B2%83\">배울 것</a></li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#strategy-pattern-%EC%A0%95%EC%9D%98\">Strategy Pattern 정의</a></li>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#binder-class%EC%97%90-strategy-%EC%A0%81%EC%9A%A9-%EC%A4%80%EB%B9%84\">Binder class에 Strategy 적용 준비</a></p>\n<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#binder-class%EC%9D%98-%EA%B5%AC%EC%A1%B0%EB%B6%80%EB%B6%84-%ED%99%95%EC%9D%B8\">Binder class의 구조부분 확인</a></li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#binder-class%EC%9D%98-%EC%A0%84%EB%9E%B5-%EB%B6%80%EB%B6%84-%ED%99%95%EC%9D%B8\">Binder class의 전략 부분 확인</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#composition%EC%97%90-%EB%8C%80%ED%95%B4%EC%84%9C\">Composition에 대해서</a></p>\n<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#dependency%EA%B0%80-%EC%83%9D%EA%B8%B0%EB%8A%94-%EC%9D%B4%EC%9C%A0\">Dependency가 생기는 이유</a></li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#didependency-injection\">DI(Dependency Injection)</a></li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#%EC%A0%95%EB%A6%AC\">정리</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#binder-class%EC%97%90-composition-%EC%A0%81%EC%9A%A9-%EA%B3%BC%EC%A0%95\">Binder Class에 Composition 적용 과정</a></p>\n<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#template-method-patternprocessor-class\">Template method Pattern(Processor Class)</a></li>\n</ul>\n</li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#binder-class%EC%97%90%EC%84%9C-processor-class-%EC%A0%95%EB%A6%AC\">Binder class에서 Processor class 정리</a></li>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#processor-class%EB%A5%BC-%EC%83%81%EC%86%8D-%EB%B0%9B%EC%9D%80-hook-method\">Processor Class를 상속 받은 Hook Method</a></p>\n<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#%EA%B0%9D%EC%B2%B4-%EB%A7%9D%EC%9D%84-%EA%B5%AC%EC%84%B1%ED%95%98%EB%8A%94-3%EC%9A%94%EC%86%8C\">객체 망을 구성하는 3요소</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#binder-class-%EB%B3%80%EA%B2%BD\">Binder class 변경</a></p>\n<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%EC%9D%98-%EC%9D%BC%EB%B0%98%ED%99%94\">알고리즘의 일반화</a></li>\n</ul>\n</li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#binder%EC%97%90-addprocessort-%EC%B6%94%EA%B0%80\">binder에 addProcessort 추가</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#observation-pattern\">Observation Pattern</a></p>\n<ul>\n<li>\n<p><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#listener--viewmodel\">Listener &#x26; ViewModel</a></p>\n<ul>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#viewmodellistener-class\">ViewModelListener class</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#compositeviewmodel-class-%EC%88%98%EC%A0%95\">Composite(ViewModel class 수정)</a></li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#client\">Client</a></li>\n<li><a href=\"/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8_3/#%EC%A0%84%EC%B2%B4%EC%BD%94%EB%93%9C\">전체코드</a></li>\n</ul>","fields":{"slug":"/객체지향 자바스크립트_3/"},"frontmatter":{"title":"객체지향 자바스크립트 3회차(MVVM pattern 개선)","date":"Mar 07, 2020","tags":["코드스피츠","객제지향 자바스크립트"],"keywords":["객체지향","MVVM","Strategy Pattern","Observer Pattern","Template method Pattern","Composite Pattern"]}}},"pageContext":{"slug":"/객체지향 자바스크립트_3/","series":[{"slug":"/객체지향 자바스크립트_1/","title":"객체지향 자바스크립트 1회차(객체지향이란? with design Pattern)","num":1},{"slug":"/객체지향 자바스크립트_2/","title":"객체지향 자바스크립트 2회차(MVVM 구현)","num":2},{"slug":"/객체지향 자바스크립트_3/","title":"객체지향 자바스크립트 3회차(MVVM pattern 개선)","num":3}]}}}