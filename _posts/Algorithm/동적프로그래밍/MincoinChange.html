<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>최소동전교환문제_동적프로그래밍</title>
</head>
<body>
    <script>
        function MinConinChange(coins){
            var conins = coins;
            var cache = {};

            this.makeChange = function(amount){
                var me = this;
                if (!amount) {
                    return [];
                }
                if (cache[amount]){
                    return cache[amount];
                }
                var min = [], newMin, newAmount;

                for (var i=0; i<coins.length; i++){
                    var coin = coins[i];
                    newAmount = amount - coin;
                    if (newAmount >=0 ){
                        console.log(`##amount: ${amount}, ##i: ${i}, ##coin: ${coin}, ##newAmount: ${newAmount}`);
                        newMin = me.makeChange(newAmount);
                    }
                    if ( newAmount >= 0 && //조건1
                        (newMin.length < min.length-1 || !min.length) //조건2
                        && (newMin.length || !newAmount)){  //조건3
                        min = [coin].concat(newMin);
                        // console.log(`#amount: ${amount}, #newAmount: ${newAmount}, #iterator: ${i}, new Min_ ${min} for ${amount}`);
                    }
                }
                console.log("--------------------------");
                console.log("### amount, min: ", amount, min);
                
                return (cache[amount] = min);
            }
        };

        var minConinChange = new MinConinChange([1, 5, 10, 25]);
        console.log(minConinChange.makeChange(36));
    </script>
    
</body>
</html>